(this.webpackJsonppollination_rb=this.webpackJsonppollination_rb||[]).push([[0],{128:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),i=n(13),r=n.n(i),o=(n(127),n(128),n(11)),l=(n(26),n(23)),a=n(19),d=n.p+"static/media/logo_pollination.8a160b60.jpg",j=n(1),u=function(e){var t=e.height,n=e.width,s=e.margin;return Object(j.jsx)("img",{className:"App-logo",style:{width:n,height:t,margin:s},src:d,alt:"logo"})},b=function(e){var t=e.height,n=e.width,s=e.margin,c=e.onClick,i=Object(a.f)();return Object(j.jsx)("img",{className:"Back-button",style:{width:n,height:t,margin:s},src:"data:image/png;base64,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",alt:"logo",onClick:function(){c(),i.goBack()}})},h=Object(a.i)((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("header",{className:e.className?e.className:"App-header",children:[Object(j.jsx)(b,{onClick:e.onBackClick}),Object(j.jsx)(u,{}),function(){for(var t=["/","/login","/register"],n=0;n<t.length;n++)if(t[n]===e.location.pathname)return;return Object(j.jsx)("div",{className:"",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){return sessionStorage.removeItem("jwt"),void e.history.push("/login")},children:"Logout"})})}()]})})})),m=n(21),O=n(44),p=n(24),g=n(17),x=n.n(g),f=n(28),_=n(114),v=n.n(_),N="https://pollination.live/api",y=function(e){console.log("Response Status:"+e.status),console.log("Response headers:"),console.log(e.headers),console.log("Response data:"),console.log(e.data)},S=function(){var e=sessionStorage.getItem("jwt");return console.log("before making request: "+e),v.a.create({headers:{Authorization:"Bearer ".concat(e)}})},E=function(){var e=Object(f.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().get(N+t);case 3:return n=e.sent,y(n),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("getReq: "+e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(x.a.mark((function e(t,n){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().post(N+t,n);case 3:return s=e.sent,y(s),e.abrupt("return",s);case 8:return e.prev=8,e.t0=e.catch(0),console.log("postReq: "+e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),w=Object(a.i)((function(e){var t=Object(p.b)(),n=t.register,c=t.handleSubmit,i=t.errors,r=Object(s.useState)(!1),l=Object(o.a)(r,2),a=l[0],d=l[1],u=Object(s.useState)({dob:"",firstName:"",lastName:"",email:"",password:""}),b=Object(o.a)(u,2),h=b[0],g=b[1],x=function(e){var t=e.target,n=t.id,s=t.value;g((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},n,s))}))},f=function(){e.history.push("/home")};return Object(j.jsx)("div",{className:"Auth-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-4 mt-2 hv-center",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minHeight:"70vh"},children:Object(j.jsxs)("form",{onSubmit:c((function(e){sessionStorage.removeItem("jwt"),console.log("Data being sent to server:"),console.log("'dob':'"+e.dob+"'"),console.log("'email':'"+e.email+"'"),console.log("'first_name':'"+e.firstName+"'"),console.log("'last_name':'"+e.lastName+"'"),console.log("'password':'********'"),A("/user",{dob:e.dob,email:e.email,first_name:e.firstName,last_name:e.lastName,password:e.password}).then((function(e){200<=e.status&&e.status<300?(sessionStorage.setItem("jwt",e.data.jwt_token),f()):d(!0)})).catch((function(e){console.log("registration failed: "),console.log(e),d(!0)}))})),children:[Object(j.jsx)("h2",{children:"Register"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"date",children:"Date of Birth"}),Object(j.jsx)("input",{type:"date",className:"form-control",id:"dob",name:"dob",placeholder:"Date of Birth",value:h.dob,onChange:x,ref:n,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"fname",name:"firstName",placeholder:"First Name",onChange:x,ref:n,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"lname",name:"lastName",placeholder:"Last Name",onChange:x,ref:n,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputEmail1",children:"Email Address"}),Object(j.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"Enter Email",value:h.email,onChange:x,ref:n({required:!0}),required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputPassword1",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:h.password,onChange:x,ref:n({required:!0,minLength:8}),required:!0}),i.password&&Object(j.jsxs)("p",{children:["This field is required. Min length: ",8]})]}),Object(j.jsx)("p",{style:{display:"".concat(a?"":"none"),color:"red"},children:"There has been an error! Your email might have already been registered with us!"}),Object(j.jsx)("input",{className:"button",type:"submit",value:"Register"}),Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("span",{children:"Already have an account? "}),Object(j.jsx)("span",{style:{color:"#007bff",fontWeight:"bold",cursor:"pointer"},onClick:function(){console.log("Going to login page"),e.history.push("/login")},children:"Login here"})]})]})})})})),I=Object(a.i)((function(e){sessionStorage.removeItem("jwt");var t=Object(p.b)(),n=t.register,c=t.handleSubmit,i=t.errors,r=Object(s.useState)(!1),l=Object(o.a)(r,2),a=l[0],d=l[1],u=Object(s.useState)({email:"",password:""}),b=Object(o.a)(u,2),h=b[0],g=b[1],x=function(e){var t=e.target,n=t.id,s=t.value;g((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},n,s))}))},f=function(){e.history.push("/home")};return Object(j.jsx)("div",{className:"Auth-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-4 mt-2 hv-center",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minHeight:"50vh"},children:Object(j.jsxs)("form",{onSubmit:c((function(e){A("/user/login",{email:e.email,password:e.password}).then((function(e){200<=e.status&&e.status<300?(sessionStorage.setItem("jwt",e.data.jwt_token),f()):(console.log("login failed! "+e),d(!0))})).catch((function(e){console.log("login failed: "),console.log(e),d(!0)}))})),children:[Object(j.jsx)("h2",{children:"Login"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputEmail1",children:"Email address"}),Object(j.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:h.email,onChange:x,ref:n({required:!0})})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputPassword1",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:h.password,onChange:x,ref:n({required:!0,minLength:8})}),i.password&&Object(j.jsxs)("p",{children:["This field is required. Min length: ",8]})]}),Object(j.jsx)("p",{style:{display:"".concat(a?"":"none"),color:"red"},children:"There has been an error! Please check your credentials!"}),Object(j.jsx)("input",{className:"button",type:"submit",value:"Login"}),Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("span",{children:"Don't have an account? "}),Object(j.jsx)("span",{style:{color:"#007bff",fontWeight:"bold",cursor:"pointer"},onClick:function(){console.log("Going to registration page"),e.history.push("/register")},children:"Register here"})]})]})})})}));var q=function(e){var t=Object(s.useState)("none"),n=Object(o.a)(t,2),c=n[0],i=n[1],r=function(){i("none"),e.hideError(null)};return Object(s.useEffect)((function(){null!==e.errorMessage?i("block"):r()})),Object(j.jsx)("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:c},children:Object(j.jsxs)("div",{className:"d-flex alertMessage",children:[Object(j.jsx)("span",{children:e.errorMessage}),Object(j.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return r()},children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var C=Object(a.i)((function(e){var t=function(){console.log("[ + ] Redirecting to organizations page."),e.history.push("/orgList")};return t(),Object(j.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(j.jsx)(h,{className:"App-header",onBackClick:function(){}}),Object(j.jsx)("h4",{children:"Home page content"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Create Organization",type:"button",onClick:function(){console.log("[ + ] Redirecting to create org page."),e.history.push("/createOrganization")},children:"Create Organization"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Organizations list",type:"button",onClick:function(){t()},children:"Organizations list"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Create Election",type:"button",onClick:function(){console.log("[ + ] Redirecting to create election page."),e.history.push("/createElection")},children:"Create Election"})]})})),R=n(18),k=(n(153),n(76)),D=n.n(k),F=n(274),T=n(275),L=n(273),U={MULTI_SELECT:"Multiple selection",TRUE_FALSE:"True or False"};var B=Object(a.i)((function(e){var t=Object(a.g)().orgId,n=Object(p.b)({}),s=n.register,c=n.handleSubmit,i=n.reset,r=n.errors,o=n.watch,l=n.control,d=o("numberOfQuestions"),u=o("numberOfFields"),b=o("typeOfQuestions");function h(){var e=0;return e=u<0?0:u,b!==U.TRUE_FALSE?Object(R.a)(Array(parseInt(e||0)).keys()):(function(){for(var e=document.getElementsByClassName("field-value"),t=0;t<e.length;t++){var n=e[t].getElementsByTagName("input");n[0].value=t%2==0?"true":"false"}}(),Object(R.a)((Array("True","False")||0).keys()))}var m=function(){console.log("[ + ] Redirecting to view details of org: "+t),e.history.push("/orgList/")};return Object(j.jsx)("form",{onSubmit:c((function(e){e=function(e){var n=0;return e.election_id=0,void 0!==e.questions&&e.questions.map((function(t){t.election_id=0,t.ordered_choices=!0,t.max_selection_count=parseInt(e.max_selection_count)||1,t.min_selection_count=parseInt(e.min_selection_count)||1,t.options.map((function(e){e.option_id=n,n+=1}))})),delete e.numberOfQuestions,delete e.numberOfFields,delete e.typeOfQuestions,delete e.max_selection_count,delete e.min_selection_count,e.start_time=e.start_time.toISOString().slice(0,-5)+"+00:00",e.end_time=e.end_time.toISOString().slice(0,-5)+"+00:00",e.org_id=parseInt(t),e}(e),console.log(JSON.stringify(e,null,4)),A("/org/elections",e).then((function(e){200<=e.status&&e.status<300&&(console.log("Election created"),setTimeout((function(){m()}),500))})).catch((function(e){console.log("create election error"),console.log(e)}))})),onReset:i,children:Object(j.jsxs)("div",{className:"card m-3",children:[Object(j.jsxs)("h5",{className:"card-header",children:["Create election for organisation ID: ",t]}),Object(j.jsx)(p.a,{name:"election_description",as:Object(j.jsx)(L.a,{id:"election_description",label:"Event Description",required:!0}),control:l,defaultValue:"",rules:{required:!0}}),Object(j.jsx)(T.a,{label:"Verification Required?",name:"verified",inputRef:s,control:Object(j.jsx)(F.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)(T.a,{label:"Results publicily available?",name:"public_results",inputRef:s,control:Object(j.jsx)(F.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)(T.a,{label:"Anonymous election?",name:"anonymous",inputRef:s,control:Object(j.jsx)(F.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)("div",{className:"card-body border-bottom",children:Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Start Date"}),Object(j.jsx)(p.a,{name:"start_time",control:l,render:function(e){var t=e.onChange,n=e.value;return Object(j.jsx)(D.a,{selected:n,onChange:t,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",showTimeSelect:!0,required:!0})}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"End Date"}),Object(j.jsx)(p.a,{name:"end_time",control:l,render:function(e){var t=e.onChange,n=e.value;return Object(j.jsx)(D.a,{selected:n,onChange:t,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",showTimeSelect:!0,required:!0})}})]})]})}),Object(j.jsxs)("div",{className:"card-body border-bottom",children:[Object(j.jsx)("div",{className:"form-row",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Number of Questions"}),Object(j.jsx)("input",{name:"numberOfQuestions",ref:s,className:"form-control",required:!0,type:"number",min:"0"}),Object(j.jsx)("label",{children:"Type of Questions"}),Object(j.jsx)("select",{name:"typeOfQuestions",ref:s,className:"form-control",required:!0,children:["",U.MULTI_SELECT,U.TRUE_FALSE].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))}),b!==U.TRUE_FALSE&&Object(j.jsx)("label",{children:"Number of Fields Per Question"}),b!==U.TRUE_FALSE&&Object(j.jsx)("input",{name:"numberOfFields",ref:s,className:"form-control",required:!0,type:"number",min:"0"})]})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col",children:[b!==U.TRUE_FALSE&&Object(j.jsx)("label",{children:"Min Selection Per Question"}),b!==U.TRUE_FALSE&&Object(j.jsx)("input",{name:"min_selection_count",ref:s,className:"form-control",required:!0,type:"number",min:"0"})]}),Object(j.jsxs)("div",{className:"col",children:[b!==U.TRUE_FALSE&&Object(j.jsx)("label",{children:"Max Selection Per Question"}),b!==U.TRUE_FALSE&&Object(j.jsx)("input",{name:"max_selection_count",ref:s,className:"form-control",required:!0,type:"number",min:"0"})]})]})]}),function(){var e=0;return e=d<0?0:d,Object(R.a)(Array(parseInt(e||0)).keys())}().map((function(e){var t,n,c;return Object(j.jsx)("div",{className:"list-group list-group-flush",children:Object(j.jsxs)("div",{className:"list-group-item",children:[Object(j.jsxs)("h5",{className:"card-title",children:[" ",e+1," "]}),Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-6",children:[Object(j.jsxs)("label",{children:["Question ",e+1]}),Object(j.jsx)("input",{name:"questions[".concat(e,"].question_description"),ref:s,type:"text",className:"form-control"}),Object(j.jsx)("div",{className:"invalid-feedback",children:null===(t=r.questions)||void 0===t||null===(n=t[e])||void 0===n||null===(c=n.question)||void 0===c?void 0:c.message})]}),Object(j.jsx)("div",{className:"form-col col-6",children:h().map((function(t){return Object(j.jsxs)("div",{className:"field-value",children:[Object(j.jsx)("label",{}),Object(j.jsx)("input",{name:"questions[".concat(e,"].options[").concat(t,"].option_description"),ref:s,type:"text",className:"form-control"})]})}))})]})]})},e)})),Object(j.jsxs)("div",{className:"card-footer text-center border-top-0",children:[Object(j.jsx)("button",{type:"submit",className:"btn btn-primary mr-1",children:"Submit"}),Object(j.jsx)("button",{className:"btn btn-secondary mr-1",type:"reset",children:"Reset"})]})]})})})),Q=Object(a.i)((function(){var e=Object(a.g)().election_id;console.log("Election ID: "+e);var t,n,c,i=Object(s.useState)({anonymous:!1,election_description:"",election_id:0,end_time:"",org_id:5,public_results:!1,questions:[],start_time:"",verified:!1}),r=Object(o.a)(i,2),l=r[0],d=r[1];return Object(s.useEffect)((function(){E("/org/elections?election_id=".concat(e)).then((function(e){200<=e.status&&e.status<300&&(console.log("GOT /org/elections/list !!!"),d(e.data))})).catch((function(e){console.log("Get /org/elections/list failed: "),console.log(e)}))}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"title",children:l.election_description}),Object(j.jsx)("table",{id:"infoTable",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"election_description:"}),Object(j.jsx)("td",{children:l.election_description})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Election Id:"}),Object(j.jsx)("td",{children:l.election_id})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Start Time:"}),Object(j.jsx)("td",{children:l.start_time})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"End Time:"}),Object(j.jsx)("td",{children:l.end_time})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Org Id:"}),Object(j.jsx)("td",{children:l.org_id})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Anonymous:"}),Object(j.jsx)("td",{children:l.anonymous+""})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Public Results:"}),Object(j.jsx)("td",{children:l.public_results+""})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"User needs to be verified:"}),Object(j.jsx)("td",{children:l.verified+""})]})]})}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsx)("th",{children:"Question Id"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Choices"}),(c=l.questions,c.map((function(e,t){var n=e.question_id,s=e.question_description,c=e.options;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{className:"options",children:c.map((function(e,t){var n=e.option_description;return Object(j.jsxs)("div",{children:[t+1," : ",n,Object(j.jsx)("br",{})]})}))})]},t)})))]})}),(t="Edit Election",n=function(){console.log("Switch to edit Election view")},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:n,name:t,value:t,type:"button",children:t})}))]})})),V=function(e,t){return e.map((function(e,n){var s=e.election_id,c=e.election_description,i=e.start_time,r=e.end_time;return Object(j.jsxs)("tr",{onClick:function(){console.log("Viewing: "+c),t(s)},children:[Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:i}),Object(j.jsx)("td",{children:r})]},n)}))},W=function(e){return e.map((function(e,t){var n=e.email,s=e.first_name,c=e.last_name,i=e.dob,r=e.privilege;return Object(j.jsxs)("tr",{onClick:function(){console.log("Clicked on: "+e)},children:[Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:s+" "+c}),Object(j.jsx)("td",{children:i}),Object(j.jsx)("td",{children:4===r?"Owner":3===r?"Admin":2===r?"Member":""})]},t)}))},G=Object(a.i)((function(e){var t=Object(a.h)().path,n=Object(a.g)().orgId;console.log("ORG ID: "+n);var c=Object(s.useState)(!1),i=Object(o.a)(c,2),r=i[0],l=i[1],d=Object(s.useState)(!1),u=Object(o.a)(d,2),b=u[0],h=u[1],m=Object(s.useState)(""),O=Object(o.a)(m,2),g=O[0],x=O[1],f=Object(s.useState)(""),_=Object(o.a)(f,2),v=_[0],N=_[1],y=Object(s.useState)([{election_id:1,election_description:"",start_time:"",end_time:""}]),S=Object(o.a)(y,2),w=S[0],I=S[1],q=Object(s.useState)([{email:"email@email.com",first_name:"first",last_name:"last",privilege:1,user_org_id:"some id",dob:"2021-01-01",uid:0}]),C=Object(o.a)(q,2),R=C[0],k=C[1],D=Object(s.useState)(0),F=Object(o.a)(D,2),T=F[0],L=F[1];Object(s.useEffect)((function(){E("/org/elections/list?org_id=".concat(n)).then((function(e){200<=e.status&&e.status<300&&(console.log("GOT /org/elections/list !!!"),I(e.data.elections))})).catch((function(e){console.log("Get /org/elections/list failed: "),console.log(e)})),E("/org/users?org_id=".concat(n,"&min_privilege_level=0")).then((function(e){200<=e.status&&e.status<300&&(console.log("GOT /org/users !!!"),k(e.data.users))})).catch((function(e){console.log("Get /org/users failed: "),console.log(e)})),E("/org/list").then((function(e){if(200<=e.status&&e.status<300){for(var t in e.data.orgs)parseInt(n)===e.data.orgs[t].org_id&&L(e.data.orgs[t].privilege);console.log("Recv /org/list and set privilege !!!")}})).catch((function(e){console.log("Get /org/list failed: "),console.log(e)}))}),[n]);var U,G,J=Object(p.b)(),P=J.register,M=J.handleSubmit;return Object(j.jsx)("div",{children:Object(j.jsxs)(a.c,{children:[Object(j.jsxs)(a.a,{exact:!0,path:t,children:[Object(j.jsxs)("h2",{className:"title",children:["Organization ID: ",n]}),Object(j.jsx)("h4",{className:"title",children:4===T?"(You are the owner of this organisation)":3===T?"(You are an admin)":2===T?"(You are a member)":""}),Object(j.jsx)("h3",{className:"title",children:"Election List:"}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"DESCRIPTION"},1),Object(j.jsx)("th",{children:"START"},2),Object(j.jsx)("th",{children:"END"},3)]}),V(w,(function(t){console.log("[ + ] Redirecting to create election page."),e.history.push("/orgList/orgDetails/".concat(n,"/electionDetails/").concat(t))}))]})}),(U="Create Election",G=function(){var t;t=n,console.log("[ + ] Redirecting to create election page."),e.history.push("/orgList/orgDetails/".concat(t,"/createElection/").concat(t))},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:G,name:U,value:U,type:"button",children:U})})),Object(j.jsx)("br",{}),T>2?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"title",children:"User List:"}),Object(j.jsx)("table",{id:"userList",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Email"},0),Object(j.jsx)("th",{children:"Full Name"},1),Object(j.jsx)("th",{children:"DOB"},2),Object(j.jsx)("th",{children:"Privilege"},3)]}),W(R)]})}),Object(j.jsx)("button",{onClick:function(){h(!b)},style:{display:"".concat(b?"none":"")},children:"Add User"}),Object(j.jsxs)("form",{id:"addUserForm",onSubmit:M((function(e){A("/org/users/invite",{invites:[{email:e.userEmail,user_org_id:e.userOrgId}],org_id:parseInt(n)}).then((function(e){200<=e.status&&e.status<300?(console.log("[User list updated!!!]"),x(""),N(""),h(!b),l(!1)):(console.log("[User list NOT UPDATED!!!]"),l(!0))})).catch((function(e){console.log("User list POST failed: "),console.log(e),l(!0)}))})),style:{display:"".concat(b?"":"none")},children:[Object(j.jsx)("h4",{className:"title",children:"Invite user to org:"}),Object(j.jsxs)("div",{id:"addUserInput",children:[Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{children:"User Email:"}),Object(j.jsx)("input",{type:"text",value:g,id:"userEmail",name:"userEmail",ref:P,placeholder:"actualEmail@email.com",onChange:function(e){return x(e.target.value)},className:"form-control",required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{children:"User Org Id:"}),Object(j.jsx)("input",{type:"text",value:v,id:"userOrgId",name:"userOrgId",ref:P,placeholder:"anything",onChange:function(e){return N(e.target.value)},className:"form-control",required:!0})]})]}),Object(j.jsx)("p",{style:{display:"".concat(r?"":"none"),color:"red"},children:"There has been an error! Please check the email address!"}),Object(j.jsx)("input",{className:"button",type:"submit",value:"Invite"})]})]}):""]}),Object(j.jsx)(a.a,{path:"/orgList/orgDetails/:orgId/createElection/:orgId",children:Object(j.jsx)(B,{})}),Object(j.jsx)(a.a,{path:"/orgList/orgDetails/:orgId/electionDetails/:election_id",children:Object(j.jsx)(Q,{})})]})})})),J=function(e,t){return e.map((function(e,n){var s=e.org_id,c=e.name,i=e.user_org_id;return Object(j.jsxs)("tr",{onClick:function(){t(s,c)},children:[Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:i})]},n)}))},P=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("table",{id:"infoTable",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["Email: ",e.email]}),Object(j.jsxs)("td",{children:["D.O.B: ",e.dob]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["Last Name: ",e.last_name]}),Object(j.jsxs)("td",{children:["First Name: ",e.first_name]})]})]})})})},M=Object(a.i)((function(e){var t,n,c=Object(a.h)().path,i=Object(s.useState)([{org_id:0,name:"",user_org_id:""}]),r=Object(o.a)(i,2),l=r[0],d=r[1],u=Object(s.useState)({dob:"",email:"",first_name:"",last_name:""}),b=Object(o.a)(u,2),h=b[0],m=b[1];return Object(s.useEffect)((function(){E("/user").then((function(e){200<=e.status&&e.status<300&&(console.log("Recv /user !!!"),m(e.data))})).catch((function(e){console.log(e)})),E("/org/list").then((function(e){200<=e.status&&e.status<300&&(console.log("Recv /org/list !!!"),d(e.data.orgs))})).catch((function(e){console.log("Get /org/list failed: "),console.log(e)}))}),[]),Object(j.jsx)("div",{children:Object(j.jsxs)(a.c,{children:[Object(j.jsxs)(a.a,{exact:!0,path:c,children:[Object(j.jsx)("h2",{className:"title",children:"User's information"}),P(h),Object(j.jsx)("h2",{className:"title",children:"Organization List"}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"NAME"},1),Object(j.jsx)("th",{children:"USER ORG ID"},2)]}),J(l,(function(t,n){console.log("[ + ] Redirecting to view details of "+n),e.history.push("/orgList/orgDetails/".concat(t))}))]})}),(t="Create Organization",n=function(){console.log("[ + ] Redirecting to create org page."),e.history.push("/createOrganization")},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:n,name:t,value:t,type:"button",children:t})}))]}),Object(j.jsx)(a.a,{path:"/orgList/orgDetails/:orgId",children:Object(j.jsx)(G,{})})]})})})),z=Object(a.i)((function(e){var t=Object(p.b)(),n=t.register,s=t.handleSubmit;return Object(j.jsx)("div",{className:"col-12 CreateOrg-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-12 mt-2 hv-center",children:Object(j.jsxs)("form",{onSubmit:s((function(t){A("/org",{name:t.orgName,user_org_id:t.orgUser_org_id,verifier_password:t.orgVerifier_password}).then((function(t){200<=t.status&&t.status<300&&(console.log("[ORG created!!!]"),console.log("[ + ] Redirecting to organizations page."),e.history.push("/orgList"))})).catch((function(e){console.log("Create org failed: "),console.log(e)}))})),children:[Object(j.jsx)("h2",{children:"Create Organization"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgName",children:"Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"orgName",name:"orgName",ref:n,placeholder:"Org Name",required:"required"})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgUser_org_id",children:"User Organization ID"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"orgUser_org_id",name:"orgUser_org_id",placeholder:"User Organization ID",ref:n,required:"required"})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgVerifier_password",children:"ID Verifier Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"orgVerifier_password",name:"orgVerifier_password",placeholder:"Password",ref:n,required:"required"})]}),Object(j.jsx)("input",{className:"button",type:"submit",value:"Create"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})})})})),H={election_info:{anonymous:!0,election_description:"test_elec",election_id:10,end_time:"2024-01-23T04:56:07+00:00",org_id:10,public_results:!0,questions:[{election_id:10,max_selection_count:2,min_selection_count:2,options:[{option_description:"q1_op1",option_id:20,result:50,total_votes_for:8},{option_description:"q1_op2",option_id:21,result:50,total_votes_for:8},{option_description:"q1_op3",option_id:22,result:0,total_votes_for:0}],ordered_choices:!1,question_description:"q1",question_id:10},{election_id:10,max_selection_count:1,min_selection_count:1,options:[{option_description:"q2_op1",option_id:23,result:100,total_votes_for:8},{option_description:"q2_op2",option_id:24,result:0,total_votes_for:0}],ordered_choices:!1,question_description:"q2",question_id:11},{election_id:10,max_selection_count:3,min_selection_count:3,options:[{option_description:"q3_op1",option_id:25,result:39.58333333333333,total_votes_for:19},{option_description:"q3_op2",option_id:26,result:41.66666666666667,total_votes_for:20},{option_description:"q3_op3",option_id:27,result:18.75,total_votes_for:9}],ordered_choices:!0,question_description:"q3",question_id:12}],start_time:"2000-01-23T04:56:07+00:00",verified:!0},org_info:{name:"yo sooonnn mollit",org_id:10}},K=H.election_info.questions,Y=function(e){return K.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:e.question_description}),Object(j.jsxs)("table",{id:"org",children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Option"},1),Object(j.jsx)("th",{children:"Result"},1)]}),e.options.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.option_description}),Object(j.jsxs)("td",{children:[Number.parseFloat(e.result).toPrecision(4),"%"]})]})}))]})]})}))},Z=function(e,t){return e.map((function(e,n){var s=e.election_description,c=e.election_id,i=e.end_time,r=e.start_time,o=e.org_id;return Object(j.jsxs)("tr",{onClick:function(){t(c,s)},children:[Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:i}),Object(j.jsx)("td",{children:o})]},n)}))},X=Object(a.i)((function(e){var t=Object(s.useState)([{anonymous:"",election_description:"",election_id:0,end_time:"",start_time:"",ord_id:0}]),n=Object(o.a)(t,2),c=n[0],i=n[1];Object(s.useEffect)((function(){E("/org/elections/public/get/list?page=1&elections_per_page=333").then((function(e){200<=e.status&&e.status<300&&i(e.data.elections.filter((function(e){return!0===e.public_results})))})).catch((function(e){console.log(e)}))}),[]);var r=Object(a.h)().path;return Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{exact:!0,path:r,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"title",children:"Public Elections List"}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"ELECTION DESCRIPTION"},1),Object(j.jsx)("th",{children:"START TIME"},2),Object(j.jsx)("th",{children:"END TIME"},3),Object(j.jsx)("th",{children:"ORG ID"},5)]}),Z(c,(function(t,n){console.log("[ + ] Redirecting to view details of "+n),e.history.push("/electionResults/electionDetails/".concat(t))}))]})})]})}),Object(j.jsx)(a.a,{path:"/electionResults/electionDetails/:electionId",children:Object(j.jsx)(Y,{questionList:H.questions})})]})}));var $=function(){var e=Object(s.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(j.jsx)(l.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{className:"App-header",onBackClick:function(){}}),Object(j.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{path:"/",exact:!0,children:Object(j.jsx)(I,{showError:c,onClick:function(){}})}),Object(j.jsx)(a.a,{path:"/login",children:Object(j.jsx)(I,{showError:c,onClick:function(){}})}),Object(j.jsx)(a.a,{path:"/register",children:Object(j.jsx)(w,{showError:c})}),Object(j.jsx)(a.a,{path:"/home",children:Object(j.jsx)(C,{})}),Object(j.jsx)(a.a,{path:"/createOrganization",children:Object(j.jsx)(z,{showError:c})}),Object(j.jsx)(a.a,{path:"/orgList",children:Object(j.jsx)(M,{})}),Object(j.jsx)(a.a,{path:"/createElection",children:Object(j.jsx)(B,{})}),Object(j.jsx)(a.a,{path:"/electionResults",children:Object(j.jsx)(X,{})})]}),Object(j.jsx)(q,{errorMessage:n,hideError:c})]})]})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)($,{})}),document.getElementById("root")),ee()},26:function(e,t,n){}},[[238,1,2]]]);
//# sourceMappingURL=main.d85e49b8.chunk.js.map