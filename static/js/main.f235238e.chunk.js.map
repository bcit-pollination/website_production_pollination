{"version":3,"sources":["images/logo_pollination.jpg","components/PollinationLogo.js","components/BackButton.js","images/back.png","components/Header.js","api_path.js","utils/customAxiosLib.js","components/RegistrationForm.js","utils/utils.js","components/LoginForm.js","components/AlertMessage.js","screens/Home.js","screens/CreateElection.js","screens/ElectionResults.js","screens/ElectionDetails.js","screens/OrganizationDetails.js","screens/OrganizationList.js","screens/CreateOrganization.js","App.js","reportWebVitals.js","index.js"],"names":["PollinationLogo","height","width","margin","className","style","src","logo","alt","BackButton","onClick","history","useHistory","goBack","withRouter","props","onBackClick","loggedInList","i","length","location","pathname","sessionStorage","removeItem","push","renderLogout","api_path","logResponse","response","console","log","status","headers","data","getAxiosInstance","jwt_token","getItem","axios","create","getReq","apiEndpoint","a","get","postReq","jsonObj","post","deleteReq","delete","useForm","register","handleSubmit","errors","useState","registerError","setRegisterError","dob","firstName","lastName","email","password","state","setState","handleChange","e","target","id","value","prevState","redirectToHome","position","top","left","transform","minHeight","onSubmit","then","setItem","catch","error","htmlFor","type","name","placeholder","onChange","ref","required","aria-describedby","minLength","display","color","fontWeight","cursor","renderButton","btnName","loginError","setLoginError","AlertComponent","modalDisplay","toggleDisplay","closeModal","hideError","useEffect","errorMessage","role","aria-label","aria-hidden","redirectToOrgList","TypeSelection_Enum","SINGLE_CHOICE","MULTI_SELECT","TRUE_FALSE","orgId","useParams","reset","watch","control","watchNumberOfQuestions","watchNumberOfFields","watchTypeOfQuestions","numberOfFields","tmp","Array","parseInt","keys","field_divs","document","getElementsByClassName","input_elements","getElementsByTagName","setFieldValuesBool","redirectToOrganizationDetails","json_obj","count","election_id","undefined","questions","map","q","ordered_choices","max_selection_count","min_selection_count","options","op","option_id","toISOString","slice","updateOptionsJSON","JSON","stringify","setTimeout","onReset","as","TextField","label","defaultValue","rules","FormControlLabel","inputRef","Checkbox","marginLeft","render","selected","timeInputLabel","dateFormat","showTimeSelect","min","questionNumbers","question","message","j","marginBottom","ElectionVoteDetails","electionResults","setElectionResults","election_info","index","rank","last","question_description","sort","b","result","option","option_description","Number","parseFloat","toPrecision","total_votes_for","renderTableData","electionList","redirectToElectionDetails","election","election_description","end_time","start_time","org_id","path","useRouteMatch","anonymous","ord_id","listState","elections","filter","public_results","exact","questionList","deleteError","setDeleteError","verified","electionInfo","setElectionInfo","question_id","renderElectionTableData","renderUserTableData","userList","user","first_name","last_name","privilege","inviteError","setInviteError","visibleInvitation","setInviVisi","userEmail","setUserEmail","userOrgId","setUserOrgId","setElectionList","user_org_id","uid","setUserList","setPrivilege","users","org","orgs","CreateElection","orgList","renderUserInfo","userInfo","setUserInfo","orgName","orgUser_org_id","orgVerifier_password","App","updateErrorMessage","showError","CreateOrganization","OrganizationList","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f235238e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_pollination.8a160b60.jpg\";","import logo from '../images/logo_pollination.jpg';\r\nimport '../css/App.css'\r\n\r\nconst PollinationLogo = \r\n    ({height, width, margin}) => {\r\n        \r\n    return (\r\n        \r\n        <img className=\"App-logo\" style={{width: width, height:height, margin:margin}}               \r\n        src={logo} alt=\"logo\"/>\r\n    )\r\n}\r\n\r\nexport default PollinationLogo;\r\n","import BackPNG from '../images/back.png';\r\nimport '../css/App.css'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst BackButton = \r\n    ({height, width, margin, onClick}) => {\r\n\r\n    let history = useHistory();\r\n\r\n    return (\r\n        <img className=\"Back-button\" \r\n        style={{width: width, height:height, margin:margin}}               \r\n        src={BackPNG} alt=\"logo\" \r\n        onClick={() => {onClick(); history.goBack();}}/>\r\n    )\r\n}\r\n\r\nexport default BackButton;\r\n","export default \"data:image/png;base64,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\"","import '../css/App.css';\r\nimport PollinationLogo from './PollinationLogo';\r\nimport BackButton from './BackButton';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    function renderLogout() {\r\n        const loggedInList = ['/', '/login', '/register', '/electionResults'];\r\n\r\n        for (let i = 0; i < loggedInList.length; i++) {\r\n            if (loggedInList[i] === props.location.pathname) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div className=\"\">\r\n                <button className=\"btn btn-danger\" onClick={() => handleLogout()}>Logout</button>\r\n            </div>\r\n        )\r\n    \r\n    }\r\n    function handleLogout() {\r\n        sessionStorage.removeItem(\"jwt\");\r\n        props.history.push('/login')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <header className={props.className?props.className:'App-header'}>\r\n                <BackButton onClick={props.onBackClick}/>\r\n                <PollinationLogo/>\r\n                {renderLogout()}\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Header);","const api_path = 'https://pollination.live/api';\r\nexport default api_path;","import axios from \"axios\";\r\nimport api_path from \"../api_path\"\r\n\r\nconst logResponse = (response) => {\r\n    console.log(\"Response Status:\" + response.status);\r\n    console.log(\"Response headers:\");\r\n    console.log(response.headers);\r\n    console.log(\"Response data:\");\r\n    console.log(response.data);\r\n}\r\n\r\nconst getAxiosInstance = () => {\r\n    let jwt_token = sessionStorage.getItem(\"jwt\");\r\n    console.log(\"before making request: \" + jwt_token)\r\n    let axiosInstance =  axios.create({\r\n        headers: {\r\n            \"Authorization\" : `Bearer ${jwt_token}`,\r\n        }\r\n    }); \r\n    return axiosInstance;\r\n}\r\n\r\nexport const getReq = async (apiEndpoint) => {\r\n  try {\r\n    const response = await getAxiosInstance().get(api_path + apiEndpoint);\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"getReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const postReq = async (apiEndpoint, jsonObj) => {\r\n  try {\r\n    const response = await getAxiosInstance().post(\r\n      api_path + apiEndpoint,\r\n      jsonObj\r\n    );\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"postReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const deleteReq = async (apiEndpoint) => {\r\n  try {\r\n    const response = await getAxiosInstance().delete(api_path + apiEndpoint);\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"postReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n\r\n","import {useState} from 'react';\r\nimport '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\n// import axios from 'axios';\r\nimport {postReq} from '../utils/customAxiosLib'\r\n\r\n// const axios = require('axios');\r\n\r\nconst RegistrationForm = (props) => {\r\n    const minPass = 8;\r\n\r\n    const { register, handleSubmit, errors } = useForm();\r\n    \r\n    const onSubmit = (data) => {\r\n\r\n        sessionStorage.removeItem(\"jwt\");\r\n\r\n        console.log(\"Data being sent to server:\")\r\n        console.log(\"'dob':'\" +data.dob+\"'\");\r\n        console.log(\"'email':'\"+data.email+\"'\");\r\n        console.log(\"'first_name':'\"+data.firstName+\"'\"); \r\n        console.log(\"'last_name':'\"+data.lastName+\"'\");\r\n        console.log(\"'password':'********'\")\r\n\r\n        postReq('/user', {\r\n            \"dob\":data.dob,\r\n            \"email\": data.email,\r\n            \"first_name\": data.firstName,\r\n            \"last_name\": data.lastName,\r\n            \"password\": data.password,\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                sessionStorage.setItem(\"jwt\", response.data.jwt_token);\r\n                redirectToHome();\r\n            } else {\r\n                setRegisterError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"registration failed: \");\r\n            console.log(error);\r\n            setRegisterError(true);\r\n        })\r\n    };\r\n\r\n    const [registerError , setRegisterError] = useState(false)\r\n\r\n    const [state , setState] = useState({\r\n        dob: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email : \"\",\r\n        password : \"\",\r\n        // confirmPassword: \"\",\r\n    })\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        props.history.push('/home');\r\n    }\r\n    const redirectToLogin = () => {\r\n        props.history.push('/login'); \r\n    }\r\n\r\n    const centerForm = {position:'absolute', top:'50%', left:'50%', transform: 'translate(-50%, -50%)', minHeight:'70vh' }\r\n    \r\n    return (\r\n        <div className=\"Auth-form\">\r\n            <div className=\"card col-12 col-lg-4 mt-2 hv-center\" style={centerForm}>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <h2>Register</h2>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"date\">Date of Birth</label>\r\n                        <input type=\"date\" \r\n                            className=\"form-control\" \r\n                            id=\"dob\" \r\n                            name=\"dob\" \r\n                            placeholder=\"Date of Birth\"\r\n                            value={state.dob}\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input type=\"text\" \r\n                            className=\"form-control\" \r\n                            id=\"fname\"\r\n                            name=\"firstName\" \r\n                            placeholder=\"First Name\"\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input type=\"text\" \r\n                            className=\"form-control\" \r\n                            id=\"lname\" \r\n                            name=\"lastName\" \r\n                            placeholder=\"Last Name\"\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputEmail1\">Email Address</label>\r\n                        <input type=\"email\" \r\n                            className=\"form-control\" \r\n                            id=\"email\" \r\n                            name=\"email\" \r\n                            aria-describedby=\"emailHelp\" \r\n                            placeholder=\"Enter Email\"\r\n                            value={state.email}\r\n                            onChange={handleChange}\r\n                            ref={register({required: true})}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputPassword1\">Password</label>\r\n                        <input type=\"password\" \r\n                            className=\"form-control\" \r\n                            id=\"password\" \r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            ref={register({ required: true, minLength: minPass})}\r\n                            required\r\n                        />\r\n                        {errors.password && <p>This field is required. Min length: {minPass}</p>}\r\n                    </div>\r\n\r\n                    <p \r\n                        style={{\r\n                            display: `${registerError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Your email might have already been registered with us!</p>\r\n\r\n                    <input className=\"button\" type=\"submit\" value=\"Register\"/>\r\n\r\n                    <div className=\"mt-2\">\r\n                        <span>Already have an account? </span>\r\n                        <span style={{color: '#007bff', fontWeight: 'bold', cursor: 'pointer' }} \r\n                        onClick={() => {console.log('Going to login page'); redirectToLogin()}}>Login here</span> \r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(RegistrationForm);","const renderButton = (btnName, onClick) => {\r\n    return (\r\n        <>\r\n        <button \r\n            onClick={onClick}\r\n            name={btnName} \r\n            value={btnName} \r\n            type={`button`}\r\n        >{btnName}</button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport { renderButton }","import {postReq} from '../utils/customAxiosLib'\r\nimport {useState} from 'react';\r\nimport '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\nimport { renderButton } from '../utils/utils'\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const redirectToElectionResults = () => {\r\n        console.log(\"[ + ] Redirecting to electionResults\");\r\n        props.history.push(`/electionResults`);\r\n    }\r\n    sessionStorage.removeItem(\"jwt\");\r\n\r\n    const minPass = 8;\r\n    const { register, handleSubmit, errors } = useForm();\r\n    \r\n    const onSubmit = data => {\r\n        postReq('/user/login', {\r\n            \"email\": data.email,\r\n            \"password\": data.password,\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                sessionStorage.setItem(\"jwt\", response.data.jwt_token);\r\n                redirectToHome();\r\n            } else {\r\n                console.log(\"login failed! \" + response);\r\n                setLoginError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"login failed: \");\r\n            console.log(error);\r\n            setLoginError(true);\r\n        })\r\n    };\r\n\r\n    const [loginError , setLoginError] = useState(false)\r\n\r\n    const [state , setState] = useState({\r\n        email : \"\",\r\n        password : \"\",\r\n    })\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        props.history.push('/home');\r\n    }\r\n    const redirectToRegister = () => {\r\n        props.history.push('/register'); \r\n    }\r\n\r\n    const centerForm = {position:'absolute', top:'50%', left:'50%', transform: 'translate(-50%, -50%)', minHeight:'50vh' }\r\n    \r\n    return (\r\n        <div className=\"Auth-form\">\r\n            <div className=\"card col-12 col-lg-4 mt-2 hv-center\" style={centerForm}>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <h2>Login</h2>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputEmail1\">Email address</label>\r\n                        <input type=\"email\" \r\n                            className=\"form-control\" \r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            aria-describedby=\"emailHelp\" \r\n                            placeholder=\"Enter email\"\r\n                            value={state.email}\r\n                            onChange={handleChange}\r\n                            ref={register({required: true})}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputPassword1\">Password</label>\r\n                        <input type=\"password\" \r\n                            className=\"form-control\" \r\n                            id=\"password\" \r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            ref={register({ required: true, minLength: minPass})}\r\n                        />\r\n                        {errors.password && <p>This field is required. Min length: {minPass}</p>}\r\n                    </div>\r\n                    <p \r\n                        style={{\r\n                            display: `${loginError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Please check your credentials!</p>\r\n                    <input className=\"button\" type=\"submit\" value=\"Login\"/>\r\n\r\n                    <div className=\"mt-2\">\r\n                        <span>Don't have an account? </span>\r\n                        <span style={{color: '#007bff', fontWeight: 'bold', cursor: 'pointer' }} \r\n                        onClick={() => {console.log('Going to registration page');redirectToRegister();}}>Register here</span> \r\n                    </div>\r\n                    {renderButton(\"View Public Election Results\", () => {redirectToElectionResults()})}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(LoginForm);","import React, { useState, useEffect } from 'react';\r\n\r\nfunction AlertComponent(props) {\r\n    const [modalDisplay, toggleDisplay] = useState('none');\r\n    const openModal = () => {\r\n        toggleDisplay('block');     \r\n    }\r\n    const closeModal = () => {\r\n        toggleDisplay('none'); \r\n        props.hideError(null);\r\n    }\r\n    useEffect(() => {\r\n        if(props.errorMessage !== null) {\r\n            openModal()\r\n        } else {\r\n            closeModal()\r\n        }\r\n    });\r\n    \r\n    return(\r\n        <div \r\n            className={\"alert alert-danger alert-dismissable mt-4\"} \r\n            role=\"alert\" \r\n            id=\"alertPopUp\"\r\n            style={{ display: modalDisplay }}\r\n        >\r\n            <div className=\"d-flex alertMessage\">\r\n                <span>{props.errorMessage}</span>\r\n                <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => closeModal()}>\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n} \r\n\r\nexport default AlertComponent","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\n\r\n    // const handleSubmitClick = (e) => {\r\n    //     e.preventDefault();\r\n    //     props.onClick();\r\n    //     console.log(\"Sending Login Info to server\");=\r\n    //     redirectToHome();\r\n    // }\r\n\r\n\r\n    // const redirectToRegister = () => {\r\n    //     props.history.push('/register'); \r\n    // } \r\n\r\n\r\nfunction Home(props) {\r\n    const redirectToCreateOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\")\r\n        props.history.push('/createOrganization');\r\n    }\r\n    const redirectToOrgList = () => {\r\n        console.log(\"[ + ] Redirecting to organizations page.\")\r\n        props.history.push('/orgList');\r\n    }\r\n    const redirectToCreateElection = () => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push('/createElection');\r\n    }\r\n    // useEffect(() => {\r\n    //     axios.get(API_BASE_URL+'/user/me', { headers: { 'token': localStorage.getItem(ACCESS_TOKEN_NAME) }})\r\n    //     .then(function (response) {\r\n    //         if(response.status !== 200){\r\n    //           redirectToLogin()\r\n    //         }\r\n    //     })\r\n    //     .catch(function (error) {\r\n    //       redirectToLogin()\r\n    //     });\r\n    //   })\r\n    // function redirectToLogin() {\r\n    //     props.history.push('/login');\r\n    // }\r\n\r\n    redirectToOrgList();\r\n\r\n    return(\r\n        <div className=\"container d-flex align-items-center flex-column\">\r\n                    <Header className=\"App-header\" onBackClick={() => { }} />\r\n\r\n            <h4>Home page content</h4>\r\n            <br/>\r\n            <button name={\"Create Organization\"} type={`button`} onClick={() => {redirectToCreateOrg()}} >Create Organization</button>\r\n            <br/>\r\n            <button name={\"Organizations list\"} type={`button`} onClick={() => {redirectToOrgList()}} >Organizations list</button>\r\n            <br/>\r\n            <button name={\"Create Election\"} type={`button`} onClick={() => {redirectToCreateElection()}} >Create Election</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Home);","import React from \"react\";\r\nimport { postReq } from \"../utils/customAxiosLib\";\r\nimport \"../css/App.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { withRouter, useParams } from \"react-router-dom\";\r\nimport ReactDatePicker from \"react-datepicker\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst TypeSelection_Enum = {\r\n  SINGLE_CHOICE: \"Single Choice\",\r\n  MULTI_SELECT: \"Multiple selection\",\r\n  TRUE_FALSE: \"True or False\",\r\n};\r\n\r\nfunction ElectionForm(props) {\r\n  let { orgId } = useParams();\r\n\r\n  // functions to build form returned by useForm() hook\r\n  const { register, handleSubmit, reset, errors, watch, control } = useForm({});\r\n\r\n  // watch to enable re-render when question number is changed\r\n  const watchNumberOfQuestions = watch(\"numberOfQuestions\");\r\n\r\n  // watch to enable re-render when fields number is changed\r\n  const watchNumberOfFields = watch(\"numberOfFields\");\r\n\r\n  // watch to enable re-render of selections\r\n  const watchTypeOfQuestions = watch(\"typeOfQuestions\");\r\n\r\n  const isTrueFalseSelected = () =>\r\n    watchTypeOfQuestions === TypeSelection_Enum.TRUE_FALSE;\r\n  // return array of question indexes for rendering dynamic forms in the template\r\n  function questionNumbers() {\r\n    let tmp = 0;\r\n    if (watchNumberOfQuestions < 0) tmp = 0;\r\n    else tmp = watchNumberOfQuestions;\r\n    return [...Array(parseInt(tmp || 0)).keys()];\r\n  }\r\n\r\n  function numberOfFields() {\r\n    let tmp = 0;\r\n    if (watchNumberOfFields < 0) tmp = 0;\r\n    else tmp = watchNumberOfFields;\r\n\r\n    if (watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE) {\r\n      return [...Array(parseInt(tmp || 0)).keys()];\r\n    } else {\r\n      setFieldValuesBool();\r\n      return [...(Array(\"True\", \"False\") || 0).keys()];\r\n    }\r\n  }\r\n\r\n  function setFieldValuesBool() {\r\n    const field_divs = document.getElementsByClassName(\"field-value\");\r\n    for (let i = 0; i < field_divs.length; i++) {\r\n      const input_elements = field_divs[i].getElementsByTagName(\"input\");\r\n      i % 2 == 0 ? (input_elements[0].value = \"true\") : (input_elements[0].value = \"false\");\r\n    }\r\n  }\r\n\r\n  function updateOptionsJSON(json_obj) {\r\n    let count = 0;\r\n    let q_count = 0;\r\n    json_obj.election_id = 0;\r\n    if (json_obj.questions !== undefined) {\r\n      json_obj.questions.map(q => {\r\n        q.election_id = 0;\r\n        q.ordered_choices = true;\r\n        q.max_selection_count = parseInt(json_obj[\"max_selection_count\"]) || 1;\r\n        q.min_selection_count = parseInt(json_obj[\"min_selection_count\"]) || 1;\r\n\r\n        q.options.map(op => {\r\n          op.option_id = count;\r\n          count += 1;\r\n        });\r\n        q_count += 1;\r\n      });\r\n    }\r\n    delete json_obj[\"numberOfQuestions\"];\r\n    delete json_obj[\"numberOfFields\"];\r\n    delete json_obj[\"typeOfQuestions\"];\r\n    delete json_obj[\"max_selection_count\"]\r\n    delete json_obj[\"min_selection_count\"]\r\n    json_obj[\"start_time\"] = json_obj[\"start_time\"].toISOString().slice(0, -5) + \"+00:00\";\r\n    json_obj[\"end_time\"]   = json_obj[\"end_time\"].toISOString().slice(0, -5) + \"+00:00\";\r\n    json_obj[\"org_id\"] = parseInt(orgId);\r\n    return json_obj;\r\n  }\r\n  function onSubmit(data) {\r\n    // display form data on success\r\n    data = updateOptionsJSON(data);\r\n    console.log(JSON.stringify(data, null, 4));\r\n\r\n    postReq(\"/org/elections\", data)\r\n      .then(response => {\r\n        if (200 <= response.status && response.status < 300) {\r\n          console.log(\"Election created\");\r\n          setTimeout(() => {\r\n            redirectToOrganizationDetails();\r\n          }, 500);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(\"create election error\");\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const redirectToOrganizationDetails = () => {\r\n    console.log(\"[ + ] Redirecting to view details of org: \" + orgId);\r\n    props.history.push(`/orgList/`);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} onReset={reset}>\r\n      <div className=\"card m-3\">\r\n        <h5 className=\"card-header\">\r\n          Create election for organisation ID: {orgId}\r\n        </h5>\r\n\r\n        <Controller\r\n          name=\"election_description\"\r\n          as={\r\n            <TextField\r\n              id=\"election_description\"\r\n              label=\"Event Description\"\r\n              required\r\n            />\r\n          }\r\n          control={control}\r\n          defaultValue=\"\"\r\n          rules={{\r\n            required: true,\r\n          }}\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Verification Required?\"\r\n          name=\"verified\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Results publicily available?\"\r\n          name=\"public_results\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Anonymous election?\"\r\n          name=\"anonymous\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n          <div className=\"card-body border-bottom\">\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Start Date</label>\r\n                <Controller\r\n                  name={\"start_time\"}\r\n                  control={control}\r\n                  render={({ onChange, value }) => (\r\n                    <ReactDatePicker\r\n                      selected={value}\r\n                      onChange={onChange}\r\n                      timeInputLabel=\"Time:\"\r\n                      dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n                      showTimeSelect\r\n                      required\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>End Date</label>\r\n                <Controller\r\n                  name={\"end_time\"}\r\n                  control={control}\r\n                  render={({ onChange, value }) => (\r\n                    <ReactDatePicker\r\n                      selected={value}\r\n                      onChange={onChange}\r\n                      timeInputLabel=\"Time:\"\r\n                      dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n                      showTimeSelect\r\n                      required\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div className=\"card-body border-bottom\">\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label>Number of Questions</label>\r\n              <input\r\n                defaultValue=\"1\"\r\n                name=\"numberOfQuestions\"\r\n                ref={register}\r\n                className={`form-control`}\r\n                required\r\n                type=\"number\"\r\n                min=\"0\"\r\n              ></input>\r\n\r\n              <label>Type of Questions</label>\r\n              <select\r\n                name=\"typeOfQuestions\"\r\n                ref={register}\r\n                className={`form-control`}\r\n                required\r\n              >\r\n                {[\r\n                  TypeSelection_Enum.SINGLE_CHOICE,\r\n                  TypeSelection_Enum.MULTI_SELECT,\r\n                  TypeSelection_Enum.TRUE_FALSE,\r\n                ].map(i => (\r\n                  <option key={i} value={i}>\r\n                    {i}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Number of Fields Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"numberOfFields\"\r\n                  defaultValue=\"3\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n              <div className=\"col\">\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Min Selection Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"min_selection_count\"\r\n                  defaultValue=\"1\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n              </div>\r\n              <div className=\"col\">\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Max Selection Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"max_selection_count\"\r\n                  defaultValue=\"1\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n              </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        {questionNumbers().map(i => (\r\n          <div key={i} className=\"list-group list-group-flush\">\r\n            <div className=\"list-group-item\">\r\n              <h5 className=\"card-title\">Question {i + 1} </h5>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-6\">\r\n                  <label>Description</label>\r\n                  <input\r\n                    name={`questions[${i}].question_description`}\r\n                    ref={register}\r\n                    type=\"text\"\r\n                    className={`form-control`}\r\n                  />\r\n                  <div className=\"invalid-feedback\">\r\n                    {errors.questions?.[i]?.question?.message}\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-col col-6\">\r\n                  <label>Options:</label>\r\n                  {numberOfFields().map(j => (\r\n                    <div className=\"field-value\" style={{marginBottom:15}}>\r\n                      <input\r\n                        name={`questions[${i}].options[${j}].option_description`}\r\n                        ref={register}\r\n                        type=\"text\"\r\n                        className={`form-control`}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        <div className=\"card-footer text-center border-top-0\">\r\n          <button type=\"submit\" className=\"btn btn-primary mr-1\">\r\n            Submit\r\n          </button>\r\n          <button className=\"btn btn-secondary mr-1\" type=\"reset\">\r\n            Reset\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default withRouter(ElectionForm);\r\n","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq } from '../utils/customAxiosLib'\r\nimport { useState, useEffect} from 'react';\r\n\r\nconst ElectionVoteDetails = props => {\r\n    const [electionResults, setElectionResults] = useState({\r\n        \"election_info\": {\r\n            \"anonymous\": true,\r\n            \"election_description\": \"test_elec\",\r\n            \"election_id\": 10,\r\n            \"end_time\": \"2024-01-23T04:56:07+00:00\",\r\n            \"org_id\": 10,\r\n            \"public_results\": true,\r\n            \"questions\": [\r\n                {\r\n                    \"election_id\": 10,\r\n                    \"max_selection_count\": 2,\r\n                    \"min_selection_count\": 2,\r\n                    \"options\": [\r\n                        {\r\n                            \"option_description\": \"\",\r\n                            \"option_id\": 20,\r\n                            \"result\": 0.0,\r\n                            \"total_votes_for\": 0\r\n                        }\r\n                    ],\r\n                    \"ordered_choices\": false,\r\n                    \"question_description\": \"No Results Yet, Stay Tuned.\",\r\n                    \"question_id\": 10\r\n                },\r\n\r\n            ],\r\n            \"start_time\": \"2000-01-23T04:56:07+00:00\",\r\n            \"verified\": true\r\n        },\r\n        \"org_info\": {\r\n            \"name\": \"yo sooonnn mollit\",\r\n            \"org_id\": 10\r\n        }\r\n    });\r\n    let { election_id } = useParams();\r\n    useEffect(() => {\r\n        getReq(`/org/elections/results?election_id=${election_id}`).then(response => {\r\n            if (response.status === 200) {\r\n                console.log(\"Got Election\");\r\n                setElectionResults(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Failed to get electionResults.\");\r\n            console.log(error);\r\n        });\r\n    }, [election_id]);\r\n\r\n    return electionResults.election_info.questions.map((question, index) => {\r\n        let rank = 0;\r\n        let last = -1;\r\n\r\n        return (\r\n            <div>\r\n                <h2>{question.question_description}</h2>\r\n                <table id=\"org\">\r\n                    <tr>\r\n                        <th key={0}>Rank</th>\r\n                        <th key={1}>Option</th>\r\n                        <th key={2}>Result</th>\r\n                        <th key={3}>Number of Votes</th>\r\n                    </tr>\r\n  \r\n                        {question.options.sort((a,b) => (a.result < b.result) ? 1 : -1).map((option, index) => {\r\n                            if (last != option.result) rank++\r\n                            last = option.result;\r\n                            return (\r\n                            <tr>\r\n                            <td>{rank}</td>\r\n                            <td>{option.option_description}</td>\r\n                            <td>{Number.parseFloat(option.result).toPrecision(4)}%</td>\r\n                            <td>{option.total_votes_for}</td>\r\n                            </tr>\r\n                            )\r\n                        })}\r\n\r\n                </table>\r\n            </div>\r\n        );\r\n    });\r\n}\r\n\r\nconst renderTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>ELECTION DESCRIPTION</th>\r\n            <th key={2}>START TIME</th>\r\n            <th key={3}>END TIME</th>\r\n            <th key={4}>ORG ID</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderTableData = (electionList, redirectToElectionDetails) => {\r\n    return electionList.map((election, index) => {\r\n        const {election_description, election_id, end_time,\r\n        start_time, org_id} = election;\r\n        return (\r\n        <tr \r\n        key={index}\r\n        onClick={() => {\r\n            redirectToElectionDetails(election_id, election_description)\r\n        }}\r\n        >\r\n            <td>{election_id}</td>\r\n            <td>{election_description}</td>\r\n            <td>{start_time}</td>\r\n            <td>{end_time}</td>\r\n            <td>{org_id}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst ElectionResults = (props) => {\r\n\r\n    let { path } = useRouteMatch();\r\n\r\n    const redirectToElectionDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/electionResults/electionDetails/${id}`);\r\n    }\r\n    const [listState, setState] = useState([{\r\n        anonymous : \"\",\r\n        election_description: \"\",\r\n        election_id: 0,\r\n        end_time: \"\",\r\n        start_time: \"\",\r\n        ord_id: 0\r\n    }]);\r\n    useEffect(() => {\r\n        getReq(\"/org/elections/public/get/list?page=1&elections_per_page=333\").then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                setState(response.data.elections.filter(election => election.public_results === true))\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }, []);\r\n    \r\n\r\n    return (\r\n        <Switch>\r\n        <Route exact path={path}>\r\n        <div>\r\n            <h2 className='title'>Public Elections List</h2>\r\n            <table id=\"org\">\r\n                <tbody>\r\n                    {renderTableHeader()}\r\n                    {renderTableData(listState, redirectToElectionDetails)}\r\n                </tbody>\r\n            </table>\r\n        </div>   \r\n        </Route>\r\n        <Route path={`/electionResults/electionDetails/:election_id`}>\r\n        <ElectionVoteDetails />\r\n        </Route>\r\n        </Switch>\r\n    );\r\n}\r\nexport default withRouter(ElectionResults);\r\nexport { ElectionVoteDetails }","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq, deleteReq } from '../utils/customAxiosLib'\r\nimport { useState, useEffect} from 'react';\r\nimport { renderButton } from \"../utils/utils\"\r\nimport { ElectionVoteDetails } from \"./ElectionResults\"\r\n\r\nconst renderQuestionTable = (questionList) => {\r\n    return questionList.map((question, index) => {\r\n        const {question_id, question_description, options} = question;\r\n        return (\r\n        <tr\r\n        key={index}\r\n        >\r\n            <td>{question_id}</td>\r\n            <td>{question_description}</td>\r\n            <td className=\"options\">{options.map((option, index) => {\r\n                const {option_description} = option;\r\n                return (\r\n                    <div>\r\n                        {index + 1} : {option_description}<br/>\r\n                    </div>\r\n                )\r\n            })}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst ElectionDetails = props => {\r\n    const redirectToElectionDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/electionResults/electionDetails/${id}`);\r\n    }\r\n    \r\n    let { election_id } = useParams();\r\n    let { path } = useRouteMatch();\r\n    console.log(\"Election ID: \" + election_id);\r\n\r\n    const [deleteError, setDeleteError] = useState(false);\r\n    const [electionInfo, setElectionInfo] = useState({\r\n        anonymous: false,\r\n        election_description: \"\",\r\n        election_id: 0,\r\n        end_time: \"\",\r\n        org_id: 0,\r\n        public_results: false,\r\n        questions: [],\r\n        start_time: \"\",\r\n        verified: false\r\n    });\r\n\r\n    useEffect(()=>{\r\n        getReq(`/org/elections?election_id=${election_id}`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/elections/list !!!\")\r\n                setElectionInfo(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/elections/list failed: \");\r\n            console.log(error);\r\n        });    \r\n    }, [election_id]);\r\n    return (\r\n    <Switch>\r\n        <Route exact path={path}>\r\n        <div>\r\n            <h2 className='title'>{electionInfo.election_description}</h2>\r\n            <table id=\"infoTable\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td>election_description:</td>\r\n                        <td>{electionInfo.election_description}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Election Id:</td>\r\n                        <td>{electionInfo.election_id}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Start Time:</td>\r\n                        <td>{electionInfo.start_time}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>End Time:</td>\r\n                        <td>{electionInfo.end_time}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Org Id:</td>\r\n                        <td>{electionInfo.org_id}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Anonymous:</td>\r\n                        <td>{electionInfo.anonymous + \"\"}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Public Results:</td>\r\n                        <td>{electionInfo.public_results + \"\"}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>User needs to be verified:</td>\r\n                        <td>{electionInfo.verified + \"\"}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <table id=\"org\">\r\n            <tbody>\r\n                <th>Question Id</th>\r\n                <th>Description</th>\r\n                <th>Choices</th>\r\n                {renderQuestionTable(electionInfo.questions)}\r\n            </tbody>\r\n            </table>\r\n            <div>\r\n            {renderButton(\"View Election\", () => {{redirectToElectionDetails(election_id, electionInfo.election_description)}})}\r\n            </div>\r\n            <div>\r\n            <div style={{\r\n                    display: `${deleteError ? \"\" : \"none\"}`, \r\n                    color: \"red\",\r\n                }}>\r\n            <h5>You are not authorized to delete this election!</h5>\r\n            <br/>\r\n            </div>\r\n            {!deleteError ? renderButton(\"Delete Election\", () => (deleteReq(`/org/elections?election_id=${electionInfo.election_id}`).then((response) => {\r\n                if (200 <= response.status && response.status < 300) {\r\n                    console.log(`DELETED election ${electionInfo.election_id}`)\r\n                    setTimeout(() => {\r\n                        props.history.push(`/orgList`)\r\n                    }, 500)\r\n\r\n                } else {\r\n                    console.log(\"DELETE failed! \" + response);\r\n                    setDeleteError(true);\r\n                }\r\n            }))) : \"\" }\r\n            </div>\r\n        </div> \r\n        </Route>\r\n        <Route path={`/electionResults/electionDetails/:election_id`}>\r\n            <ElectionVoteDetails/>\r\n        </Route>     \r\n    </Switch>\r\n    );\r\n}\r\n\r\nexport default withRouter(ElectionDetails);","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq, postReq } from '../utils/customAxiosLib'\r\nimport {useState, useEffect} from 'react';\r\nimport CreateElection from './CreateElection';\r\nimport ElectionDetails from './ElectionDetails';\r\nimport { useForm } from 'react-hook-form';\r\nimport { renderButton } from '../utils/utils';\r\n\r\nconst renderElectionTableData = (electionList, redirectToElectionDetails) => {\r\n    return electionList.map((election, index) => {\r\n        const {election_id, election_description, start_time, end_time} = election;\r\n        return (\r\n        <tr \r\n            key={index} \r\n            onClick={() => {\r\n                console.log(\"Viewing: \" + election_description);\r\n                redirectToElectionDetails(election_id);\r\n            }}\r\n        >\r\n            <td>{election_id}</td>\r\n            <td>{election_description}</td>\r\n            <td>{start_time}</td>\r\n            <td>{end_time}</td>\r\n        </tr>\r\n        );\r\n    });\r\n\r\n}\r\n\r\nconst renderElectionTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>DESCRIPTION</th>\r\n            <th key={2}>START</th>\r\n            <th key={3}>END</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderUserTableData = (userList) => {\r\n    return userList.map((user, index) => {\r\n        const {email, first_name, last_name, dob, privilege} = user;\r\n        return (\r\n        <tr \r\n            key={index} \r\n            onClick={() => {\r\n                console.log(\"Clicked on: \" + user);\r\n            }}\r\n        >\r\n            <td>{email}</td>\r\n            <td>{first_name + \" \" + last_name}</td>\r\n            <td>{dob}</td>\r\n            <td>{privilege === 4 ? \"Owner\" : privilege === 3 ? \"Admin\" : privilege === 2 ? \"Member\" : \"Invited\"}</td>\r\n        </tr>\r\n        );\r\n    });\r\n\r\n}\r\n\r\nconst renderUserTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>Email</th>\r\n            <th key={1}>Full Name</th>\r\n            <th key={2}>DOB</th>\r\n            <th key={3}>Privilege</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst OrganizationDetails = (props) => {\r\n\r\n    let { path } = useRouteMatch();\r\n    let { orgId } = useParams();\r\n    console.log(\"ORG ID: \" + orgId);\r\n\r\n    const redirectToEditOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\")\r\n        props.history.push('/createOrganization');\r\n    }\r\n\r\n    const redirectToCreateElection = (id) => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push(`/orgList/orgDetails/${id}/createElection/${id}`);\r\n    }\r\n\r\n    const redirectToElectionDetails = (election_id) => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push(`/orgList/orgDetails/${orgId}/electionDetails/${election_id}`);\r\n    }\r\n\r\n    const [inviteError, setInviteError] = useState(false);\r\n    const [visibleInvitation, setInviVisi] = useState(false);\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userOrgId, setUserOrgId] = useState(\"\");\r\n    const [electionList , setElectionList] = useState([    \r\n        {\r\n            election_id: 1,\r\n            election_description: \"\",\r\n            start_time: \"\",\r\n            end_time: \"\"\r\n        },\r\n    ])\r\n    const [userList , setUserList] = useState([    \r\n        {\r\n            email: \"email@email.com\",\r\n            first_name: \"first\",\r\n            last_name: \"last\",\r\n            privilege: 1,\r\n            user_org_id: \"some id\",\r\n            dob: \"2021-01-01\",\r\n            uid: 0\r\n        },\r\n    ])\r\n    const [privilege, setPrivilege] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        getReq(`/org/elections/list?org_id=${orgId}`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/elections/list !!!\")\r\n                setElectionList(response.data.elections);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/elections/list failed: \");\r\n            console.log(error);\r\n        });\r\n\r\n        getReq(`/org/users?org_id=${orgId}&min_privilege_level=0`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/users !!!\")\r\n                setUserList(response.data.users)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/users failed: \");\r\n            console.log(error);\r\n        });\r\n\r\n        getReq('/org/list')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                for (let org in response.data.orgs) {\r\n                    if (parseInt(orgId) === response.data.orgs[org].org_id )\r\n                        setPrivilege(response.data.orgs[org].privilege);\r\n                }\r\n                console.log(\"Recv /org/list and set privilege !!!\")\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/list failed: \");\r\n            console.log(error);\r\n        });\r\n    }, [orgId]);\r\n\r\n\r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = (data) => {\r\n        postReq('/org/users/invite', {\r\n            \"invites\": [\r\n                {\r\n                    \"email\": data.userEmail,\r\n                    \"user_org_id\": data.userOrgId\r\n                }\r\n            ],\r\n            \"org_id\": parseInt(orgId)\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"[User list updated!!!]\");\r\n                setUserEmail(\"\")\r\n                setUserOrgId(\"\")\r\n                setInviVisi(!visibleInvitation);\r\n                setInviteError(false);\r\n            } else {\r\n                console.log(\"[User list NOT UPDATED!!!]\");\r\n                setInviteError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"User list POST failed: \");\r\n            console.log(error);\r\n            setInviteError(true);\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n    <div>\r\n        <Switch>\r\n            <Route exact path={path}>\r\n                {/* <h1 id='title'>Organization Details</h1> */}\r\n                <h2 className='title'>Organization ID: {orgId}</h2>\r\n                <h4 className='title'>{privilege === 4 ? \"(You are the owner of this organisation)\" : privilege === 3 ? \"(You are an admin)\" : privilege === 2 ? \"(You are a member)\" : \"\"}</h4>\r\n                <h3 className='title'>Election List:</h3>\r\n                <table id='org'>\r\n                    <tbody>\r\n                        {renderElectionTableHeader()}\r\n                        {renderElectionTableData(electionList, redirectToElectionDetails)}\r\n                    </tbody>\r\n                </table>\r\n                \r\n                {renderButton(\"Create Election\", () => {redirectToCreateElection(orgId)})}\r\n                <br/>\r\n                {/* {renderButton(\"Edit Organization\", () => {redirectToEditOrg()})} */}\r\n\r\n                { privilege > 2 ? <>\r\n                <h3 className='title'>User List:</h3>\r\n                <table id='userList'>\r\n                    <tbody>\r\n                        {renderUserTableHeader()}\r\n                        {renderUserTableData(userList)}\r\n                    </tbody>\r\n                </table>\r\n                <button \r\n                    onClick={()=>{setInviVisi(!visibleInvitation)}} \r\n                    style={{display: `${visibleInvitation ? \"none\" : \"\"}`}}\r\n                >Add User</button>\r\n                <form id=\"addUserForm\" onSubmit={handleSubmit(onSubmit)} style={{display: `${visibleInvitation ? \"\" : \"none\"}`}}>\r\n                    <h4 className='title'>Invite user to org:</h4>\r\n                    <div id=\"addUserInput\">\r\n                    <div className=\"form-group text-left\">\r\n                        <label>User Email:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userEmail}\r\n                            id=\"userEmail\"\r\n                            name=\"userEmail\"\r\n                            ref={register}\r\n                            placeholder=\"actualEmail@email.com\"\r\n                            onChange={e => setUserEmail(e.target.value)}\r\n                            className=\"form-control\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label>User Org Id:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userOrgId}\r\n                            id=\"userOrgId\"\r\n                            name=\"userOrgId\"\r\n                            ref={register}\r\n                            placeholder=\"anything\"\r\n                            onChange={e => setUserOrgId(e.target.value)}\r\n                            className=\"form-control\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    </div>\r\n                    <p \r\n                        style={{\r\n                            display: `${inviteError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Please check the email address!</p>\r\n                    <input className=\"button\" type=\"submit\" value=\"Invite\" />\r\n                </form> \r\n                </> : \"\"}\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId/createElection/:orgId`}>\r\n                <CreateElection />\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId/electionDetails/:election_id`}>\r\n                <ElectionDetails />\r\n            </Route>\r\n        </Switch>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(OrganizationDetails);","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch\r\n} from \"react-router-dom\";\r\nimport { getReq } from '../utils/customAxiosLib'\r\nimport {useState, useEffect} from 'react';\r\nimport OrganizationDetails from './OrganizationDetails';\r\nimport { renderButton } from '../utils/utils'\r\n\r\n\r\nconst renderTableData = (orgList, redirectToOrganizationDetails) => {\r\n    return orgList.map((org, index) => {\r\n        const {org_id, name, user_org_id} = org;\r\n        return (\r\n        <tr \r\n        key={index}\r\n        onClick={() => {\r\n            redirectToOrganizationDetails(org_id, name);\r\n        }}\r\n        >\r\n            <td>{org_id}</td>\r\n            <td>{name}</td>\r\n            <td>{user_org_id}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst renderTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>NAME</th>\r\n            <th key={2}>USER ORG ID</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderUserInfo = (userInfo) => {\r\n    return (\r\n        <div>\r\n            <table id=\"infoTable\">\r\n                <tbody>\r\n                    <tr>                        \r\n                        <td>Email: {userInfo.email}</td>\r\n                        <td>D.O.B: {userInfo.dob}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Last Name: {userInfo.last_name}</td>\r\n                        <td>First Name: {userInfo.first_name}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst OrgList = (props) => {\r\n\r\n    const redirectToOrganizationDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/orgList/orgDetails/${id}`);\r\n    }\r\n\r\n    const redirectToCreateOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\");\r\n        props.history.push('/createOrganization');\r\n    }\r\n\r\n    let { path } = useRouteMatch();\r\n\r\n    const [listState , setState] = useState([    {\r\n            org_id: 0,\r\n            name: \"\",\r\n            user_org_id: \"\",\r\n        },\r\n    ])\r\n\r\n    const [userInfo, setUserInfo] = useState({\r\n        dob:'',\r\n        email:\"\",\r\n        first_name:\"\",\r\n        last_name:\"\"\r\n    });\r\n\r\n    useEffect(()=>{\r\n        getReq('/user')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"Recv /user !!!\")\r\n                setUserInfo(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        });\r\n        getReq('/org/list')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"Recv /org/list !!!\")\r\n                setState(response.data.orgs);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/list failed: \");\r\n            console.log(error);\r\n        });\r\n    }, []);\r\n\r\n\r\n    return (\r\n    <div>\r\n        <Switch>\r\n            <Route exact path={path}>\r\n            <h2 className='title'>User's information</h2>\r\n            {renderUserInfo(userInfo)}\r\n            <h2 className='title'>Organization List</h2>\r\n                <table id='org'>\r\n                    <tbody>\r\n                        {renderTableHeader()}\r\n                        {renderTableData(listState, redirectToOrganizationDetails)}\r\n                    </tbody>\r\n                </table>\r\n                {renderButton(\"Create Organization\", () => {redirectToCreateOrg()})}\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId`}>\r\n                <OrganizationDetails />\r\n            </Route>\r\n        </Switch>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(OrgList);","import '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\nimport { postReq } from '../utils/customAxiosLib';\r\n\r\nconst CreateOrganizationForm = (props) => {\r\n\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const redirectToOrgList = () => {\r\n        console.log(\"[ + ] Redirecting to organizations page.\")\r\n        props.history.push('/orgList');\r\n    }\r\n\r\n    const onSubmit = data => {\r\n\r\n        postReq('/org', {\r\n            \"name\": data.orgName,\r\n            \"user_org_id\": data.orgUser_org_id,\r\n            \"verifier_password\": data.orgVerifier_password,\r\n\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"[ORG created!!!]\");\r\n                redirectToOrgList();\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Create org failed: \");\r\n            console.log(error);\r\n        })\r\n\r\n    };\r\n\r\n    const newLine = \"\\r\\n\";\r\n    const emailPlaceholderText = \"{ \" + newLine + \"  EMAIL 1: UID,\" + newLine + \"  EMAIL 2: UID,\" + newLine + \"  EMAIL 3: UID,\" + newLine + \"}\"\r\n\r\n\r\n    return (\r\n        <div className=\"col-12 CreateOrg-form\">\r\n            <div className={`card col-12 col-lg-12 mt-2 hv-center`} >\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                    <h2>Create Organization</h2>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgName\">Name</label>\r\n                        <input type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"orgName\"\r\n                            name=\"orgName\"\r\n                            ref={register}\r\n                            placeholder=\"Org Name\"\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgUser_org_id\">User Organization ID</label>\r\n                        <input type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"orgUser_org_id\"\r\n                            name=\"orgUser_org_id\"\r\n                            placeholder=\"User Organization ID\"\r\n                            ref={register}\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgVerifier_password\">ID Verifier Password</label>\r\n                        <input type=\"password\"\r\n                            className=\"form-control\"\r\n                            id=\"orgVerifier_password\"\r\n                            name=\"orgVerifier_password\"\r\n                            placeholder=\"Password\"\r\n                            ref={register}\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"emailList\">Emails</label>\r\n                        <textarea type=\"scrolalbletextbox\"\r\n                            className=\"form-control\"\r\n                            cols=\"1\"\r\n                            id=\"emailList\"\r\n                            name=\"emailList\"\r\n                            placeholder={emailPlaceholderText}\r\n                            ref={register}\r\n                            rows=\"10\"\r\n                            required=\"required\"\r\n                        />\r\n                    </div> */}\r\n\r\n                    <input className=\"button\" type=\"submit\" value=\"Create\" />\r\n                    <br />\r\n                    <br />\r\n                    {/* <input type=\"submit\" value=\"Cancel\" /> */}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CreateOrganizationForm);","import './css/App.css';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\n\r\nimport { useState } from 'react';\r\n\r\nimport Header           from './components/Header'\r\nimport RegistrationForm from './components/RegistrationForm';\r\nimport LoginForm        from './components/LoginForm';\r\nimport AlertComponent   from './components/AlertMessage';  \r\nimport Home             from './screens/Home';  \r\nimport OrganizationList from './screens/OrganizationList';\r\nimport CreateOrganization from './screens/CreateOrganization';\r\nimport ElectionForm     from './screens/CreateElection';\r\nimport ElectionResults  from './screens/ElectionResults';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [errorMessage, updateErrorMessage] = useState(null);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header className=\"App-header\" onBackClick={() => { }} />\r\n\r\n        <div className=\"container d-flex align-items-center flex-column\">\r\n          <Switch>\r\n            <Route path=\"/\" exact={true}>\r\n              <LoginForm showError={updateErrorMessage} onClick={() => { }} />\r\n            </Route>\r\n            <Route path=\"/login\">\r\n              <LoginForm showError={updateErrorMessage} onClick={() => { }} />\r\n            </Route>\r\n            <Route path=\"/register\">\r\n              <RegistrationForm showError={updateErrorMessage}/>\r\n            </Route>\r\n\r\n\r\n            <Route path=\"/home\">\r\n              <Home/>\r\n            </Route>\r\n              <Route path=\"/createOrganization\">\r\n                <CreateOrganization showError={updateErrorMessage}/>\r\n              </Route>\r\n\r\n              <Route path=\"/orgList\">\r\n                <OrganizationList/>\r\n              </Route>\r\n\r\n              <Route path=\"/createElection\">\r\n                <ElectionForm/>\r\n              </Route>\r\n\r\n              <Route path=\"/electionResults\">\r\n                <ElectionResults/>\r\n              </Route>\r\n          </Switch>\r\n\r\n          <AlertComponent errorMessage={errorMessage} hideError={updateErrorMessage} />\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}