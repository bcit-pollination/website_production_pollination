(this.webpackJsonppollination_rb=this.webpackJsonppollination_rb||[]).push([[0],{113:function(e,t,c){},211:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(12),i=c.n(s),o=(c(112),c(113),c(18)),a=(c(29),c(25)),l=c(17),d=c.p+"static/media/logo_pollination.8a160b60.jpg",j=c(1),b=function(e){var t=e.height,c=e.width,n=e.margin;return Object(j.jsx)("img",{className:"App-logo",style:{width:c,height:t,margin:n},src:d,alt:"logo"})},u=function(e){var t=e.height,c=e.width,n=e.margin,r=e.onClick,s=Object(l.f)();return Object(j.jsx)("img",{className:"Back-button",style:{width:c,height:t,margin:n},src:"data:image/png;base64,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",alt:"logo",onClick:function(){r(),s.goBack()}})},h=Object(l.i)((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("header",{className:e.className?e.className:"App-header",children:[Object(j.jsx)(u,{onClick:e.onBackClick}),Object(j.jsx)(b,{}),function(){for(var t=["/","/login","/register"],c=0;c<t.length;c++)if(t[c]===e.location.pathname)return;return Object(j.jsx)("div",{className:"",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){return sessionStorage.removeItem("jwt"),void e.history.push("/login")},children:"Logout"})})}()]})})})),m=c(22),O=c(44),g=c(30),x=c(16),p=c.n(x),f=c(27),v=c(100),N=c.n(v),S="https://pollination.live/api",y=function(e){console.log("Returned from server:"),console.log("Response Status:"),console.log(e.status),console.log("Response headers:"),console.log(e.headers),console.log("Response data:"),console.log(e.data)},A=function(){var e=sessionStorage.getItem("jwt");return console.log(e),N.a.create({headers:{Authorization:"Bearer ".concat(e)}})},w=function(){var e=Object(f.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A().get(S+t);case 3:return c=e.sent,y(c),e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),console.log("getReq: "+e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(p.a.mark((function e(t,c){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A().post(S+t,c);case 3:return n=e.sent,y(n),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("postReq: "+e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),I=Object(l.i)((function(e){var t=Object(g.b)(),c=t.register,r=t.handleSubmit,s=t.errors,i=Object(n.useState)({dob:"",firstName:"",lastName:"",email:"",password:""}),a=Object(o.a)(i,2),l=a[0],d=a[1],b=function(e){var t=e.target,c=t.id,n=t.value;d((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},c,n))}))},u=function(){e.history.push("/home")};return Object(j.jsx)("div",{className:"Auth-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-4 mt-2 hv-center",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minHeight:"70vh"},children:Object(j.jsxs)("form",{onSubmit:r((function(e){sessionStorage.removeItem("jwt"),console.log("Data being sent to server:"),console.log("'dob':'"+e.dob+"'"),console.log("'email':'"+e.email+"'"),console.log("'first_name':'"+e.firstName+"'"),console.log("'last_name':'"+e.lastName+"'"),console.log("'password':'********'"),E("/user",{dob:e.dob,email:e.email,first_name:e.firstName,last_name:e.lastName,password:e.password}).then((function(e){200===e.status&&(sessionStorage.setItem("jwt",e.data.jwt_token),u())})).catch((function(e){console.log("registration failed: "),console.log(e)}))})),children:[Object(j.jsx)("h2",{children:"Register"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"date",children:"Date of Birth"}),Object(j.jsx)("input",{type:"date",className:"form-control",id:"dob",name:"dob",placeholder:"Date of Birth",value:l.dob,onChange:b,ref:c,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"fname",name:"firstName",placeholder:"First Name",onChange:b,ref:c,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"lname",name:"lastName",placeholder:"Last Name",onChange:b,ref:c,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputEmail1",children:"Email Address"}),Object(j.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"Enter Email",value:l.email,onChange:b,ref:c({required:!0}),required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputPassword1",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:l.password,onChange:b,ref:c({required:!0,minLength:8}),required:!0}),s.password&&Object(j.jsxs)("p",{children:["This field is required. Min length: ",8]})]}),Object(j.jsx)("input",{type:"submit"}),Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("span",{children:"Already have an account? "}),Object(j.jsx)("span",{style:{color:"#007bff",fontWeight:"bold",cursor:"pointer"},onClick:function(){console.log("Going to login page"),e.history.push("/login")},children:"Login here"})]})]})})})})),C=Object(l.i)((function(e){sessionStorage.removeItem("jwt");var t=Object(g.b)(),c=t.register,r=t.handleSubmit,s=t.errors,i=Object(n.useState)({email:"",password:""}),a=Object(o.a)(i,2),l=a[0],d=a[1],b=function(e){var t=e.target,c=t.id,n=t.value;d((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},c,n))}))},u=function(){e.history.push("/home")};return Object(j.jsx)("div",{className:"Auth-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-4 mt-2 hv-center",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minHeight:"50vh"},children:Object(j.jsxs)("form",{onSubmit:r((function(e){E("/user/login",{email:e.email,password:e.password}).then((function(e){200===e.status&&(sessionStorage.setItem("jwt",e.data.jwt_token),u())})).catch((function(e){console.log("login failed: "),console.log(e)}))})),children:[Object(j.jsx)("h2",{children:"Login"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputEmail1",children:"Email address"}),Object(j.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:l.email,onChange:b,ref:c({required:!0})})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputPassword1",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:l.password,onChange:b,ref:c({required:!0,minLength:8})}),s.password&&Object(j.jsxs)("p",{children:["This field is required. Min length: ",8]})]}),Object(j.jsx)("input",{type:"submit",value:"Login"}),Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("span",{children:"Don't have an account? "}),Object(j.jsx)("span",{style:{color:"#007bff",fontWeight:"bold",cursor:"pointer"},onClick:function(){console.log("Going to registration page"),e.history.push("/register")},children:"Register here"})]})]})})})}));var k=function(e){var t=Object(n.useState)("none"),c=Object(o.a)(t,2),r=c[0],s=c[1],i=function(){s("none"),e.hideError(null)};return Object(n.useEffect)((function(){null!==e.errorMessage?s("block"):i()})),Object(j.jsx)("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:r},children:Object(j.jsxs)("div",{className:"d-flex alertMessage",children:[Object(j.jsx)("span",{children:e.errorMessage}),Object(j.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return i()},children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var _=Object(l.i)((function(e){var t=function(){console.log("[ + ] Redirecting to organizations page."),e.history.push("/orgList")};return t(),Object(j.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(j.jsx)(h,{className:"App-header",onBackClick:function(){}}),Object(j.jsx)("h4",{children:"Home page content"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Create Organization",type:"button",onClick:function(){console.log("[ + ] Redirecting to create org page."),e.history.push("/createOrganization")},children:"Create Organization"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Organizations list",type:"button",onClick:function(){t()},children:"Organizations list"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Create Election",type:"button",onClick:function(){console.log("[ + ] Redirecting to create election page."),e.history.push("/createElection")},children:"Create Election"})]})})),q=c(19),R=(c(138),c(72)),D=c.n(R),F=c(247),B=c(248),L=c(246);var V=Object(l.i)((function(e){var t=Object(l.g)().orgId,c=Object(g.b)({}),n=c.register,r=c.handleSubmit,s=c.reset,i=c.errors,o=c.watch,a=c.control,d=o("numberOfQuestions"),b=o("numberOfFields"),u=function(){console.log("[ + ] Redirecting to view details of org: "+t),e.history.push("/orgList/")};return Object(j.jsx)("form",{onSubmit:r((function(e){e=function(e){var c=0;return e.election_id=0,void 0!==e.questions&&e.questions.map((function(e){e.election_id=0,e.ordered_choices=!0,e.max_selection_count=1,e.min_selection_count=1,e.options.map((function(e){e.option_id=c,c+=1}))})),delete e.numberOfQuestions,delete e.numberOfFields,e.start_time=e.start_time.toISOString().slice(0,-5)+"+00:00",e.end_time=e.end_time.toISOString().slice(0,-5)+"+00:00",e.org_id=parseInt(t),e}(e),console.log(JSON.stringify(e,null,4)),E("/org/elections",e).then((function(e){200===e.status&&(console.log("Election created"),setTimeout((function(){u()}),500))})).catch((function(e){console.log("create election error"),console.log(e)}))})),onReset:s,children:Object(j.jsxs)("div",{className:"card m-3",children:[Object(j.jsxs)("h5",{className:"card-header",children:["Create election for organisation ID: ",t]}),Object(j.jsx)(g.a,{name:"election_description",as:Object(j.jsx)(L.a,{id:"election_description",label:"Event Description",required:!0}),control:a,defaultValue:"",rules:{required:!0}}),Object(j.jsx)(B.a,{label:"Verification Required?",name:"verified",inputRef:n,control:Object(j.jsx)(F.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)(B.a,{label:"Results publicily available?",name:"public_results",inputRef:n,control:Object(j.jsx)(F.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)(B.a,{label:"Anonymous election?",name:"anonymous",inputRef:n,control:Object(j.jsx)(F.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsxs)("div",{className:"card-body border-bottom",children:[Object(j.jsx)("div",{className:"form-row",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Number of Questions"}),Object(j.jsx)("select",{name:"numberOfQuestions",ref:n,className:"form-control",required:!0,children:["",1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))}),Object(j.jsx)("label",{children:"Number of Fields Per Question"}),Object(j.jsx)("select",{name:"numberOfFields",ref:n,className:"form-control",required:!0,children:["",1,2,3,4].map((function(e){return Object(j.jsx)("option",{value:e,children:e},"f".concat(e))}))})]})}),Object(j.jsx)("div",{className:"card-body border-bottom",children:Object(j.jsx)("div",{className:"form-row",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Start Date"}),Object(j.jsx)(g.a,{name:"start_time",control:a,render:function(e){var t=e.onChange,c=e.value;return Object(j.jsx)(D.a,{selected:c,onChange:t,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",showTimeSelect:!0,required:!0})}}),Object(j.jsx)("label",{children:"End Date"}),Object(j.jsx)(g.a,{name:"end_time",control:a,render:function(e){var t=e.onChange,c=e.value;return Object(j.jsx)(D.a,{selected:c,onChange:t,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",showTimeSelect:!0,required:!0})}})]})})})]}),Object(q.a)(Array(parseInt(d||0)).keys()).map((function(e){var t,c,r;return Object(j.jsx)("div",{className:"list-group list-group-flush",children:Object(j.jsxs)("div",{className:"list-group-item",children:[Object(j.jsxs)("h5",{className:"card-title",children:[" ",e+1," "]}),Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-6",children:[Object(j.jsxs)("label",{children:["Question ",e+1]}),Object(j.jsx)("input",{name:"questions[".concat(e,"].question_description"),ref:n,type:"text",className:"form-control"}),Object(j.jsx)("div",{className:"invalid-feedback",children:null===(t=i.questions)||void 0===t||null===(c=t[e])||void 0===c||null===(r=c.question)||void 0===r?void 0:r.message})]}),Object(j.jsx)("div",{className:"form-col col-6",children:Object(q.a)(Array(parseInt(b||0)).keys()).map((function(t){return Object(j.jsxs)("div",{className:"",children:[Object(j.jsxs)("label",{children:["Field ",t+1]}),Object(j.jsx)("input",{name:"questions[".concat(e,"].options[").concat(t,"].option_description"),ref:n,type:"text",className:"form-control"})]})}))})]})]})},e)})),Object(j.jsxs)("div",{className:"card-footer text-center border-top-0",children:[Object(j.jsx)("button",{type:"submit",className:"btn btn-primary mr-1",children:"Submit"}),Object(j.jsx)("button",{className:"btn btn-secondary mr-1",type:"reset",children:"Reset"})]})]})})})),W=Object(l.i)((function(){var e=Object(l.g)().election_id;console.log("Election ID: "+e);var t,c,r,s=Object(n.useState)({anonymous:!1,election_description:"",election_id:0,end_time:"",org_id:5,public_results:!1,questions:[],start_time:"",verified:!1}),i=Object(o.a)(s,2),a=i[0],d=i[1];return Object(n.useEffect)((function(){w("/org/elections?election_id=".concat(e)).then((function(e){200===e.status&&(console.log("GOT /org/elections/list !!!"),d(e.data))})).catch((function(e){console.log("Get /org/elections/list failed: "),console.log(e)}))}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"title",children:a.election_description}),Object(j.jsx)("table",{id:"infoTable",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"election_description:"}),Object(j.jsx)("td",{children:a.election_description})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Election Id:"}),Object(j.jsx)("td",{children:a.election_id})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Start Time:"}),Object(j.jsx)("td",{children:a.start_time})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"End Time:"}),Object(j.jsx)("td",{children:a.end_time})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Org Id:"}),Object(j.jsx)("td",{children:a.org_id})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Anonymous:"}),Object(j.jsx)("td",{children:a.anonymous+""})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Public Results:"}),Object(j.jsx)("td",{children:a.public_results+""})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"User needs to be verified:"}),Object(j.jsx)("td",{children:a.verified+""})]})]})}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsx)("th",{children:"Question Id"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Choices"}),(r=a.questions,r.map((function(e,t){var c=e.question_id,n=e.question_description,r=e.options;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{className:"options",children:r.map((function(e,t){var c=e.option_description;return Object(j.jsxs)("div",{children:[t+1," : ",c,Object(j.jsx)("br",{})]})}))})]},t)})))]})}),(t="Edit Election",c=function(){console.log("Switch to edit Election view")},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:c,name:t,value:t,type:"button",children:t})}))]})})),J=function(e,t){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:t,name:e,value:e,type:"button",children:e})})},G=function(e,t){return e.map((function(e,c){var n=e.election_id,r=e.election_description,s=e.start_time,i=e.end_time;return Object(j.jsxs)("tr",{onClick:function(){console.log("Viewing: "+r),t(n)},children:[Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:i})]},c)}))},Q=Object(l.i)((function(e){var t=Object(l.g)().orgId;console.log("ORG ID: "+t);var c=Object(n.useState)([{election_id:1,election_description:"",start_time:"",end_time:""}]),r=Object(o.a)(c,2),s=r[0],i=r[1];Object(n.useEffect)((function(){w("/org/elections/list?org_id=".concat(t)).then((function(e){200===e.status&&(console.log("GOT /org/elections/list !!!"),i(e.data.elections))})).catch((function(e){console.log("Get /org/elections/list failed: "),console.log(e)}))}),[t]);var a=Object(l.h)().path;return Object(j.jsx)("div",{children:Object(j.jsxs)(l.c,{children:[Object(j.jsxs)(l.a,{exact:!0,path:a,children:[Object(j.jsxs)("h2",{className:"title",children:["Organization ID: ",t]}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"DESCRIPTION"},1),Object(j.jsx)("th",{children:"START"},2),Object(j.jsx)("th",{children:"END"},3)]}),G(s,(function(c){console.log("[ + ] Redirecting to create election page."),e.history.push("/orgList/orgDetails/".concat(t,"/electionDetails/").concat(c))}))]})}),J("Create Election",(function(){var c;c=t,console.log("[ + ] Redirecting to create election page."),e.history.push("/orgList/orgDetails/".concat(c,"/createElection/").concat(c))})),Object(j.jsx)("br",{}),J("Edit Organization",(function(){console.log("[ + ] Redirecting to create org page."),e.history.push("/createOrganization")}))]}),Object(j.jsx)(l.a,{path:"/orgList/orgDetails/:orgId/createElection/:orgId",children:Object(j.jsx)(V,{})}),Object(j.jsx)(l.a,{path:"/orgList/orgDetails/:orgId/electionDetails/:election_id",children:Object(j.jsx)(W,{})})]})})})),T=function(e,t){return e.map((function(e,c){var n=e.org_id,r=e.name,s=e.user_org_id;return Object(j.jsxs)("tr",{onClick:function(){t(n,r)},children:[Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:s})]},c)}))},z=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("table",{id:"infoTable",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["Email: ",e.email]}),Object(j.jsxs)("td",{children:["D.O.B: ",e.dob]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["Last Name: ",e.last_name]}),Object(j.jsxs)("td",{children:["First Name: ",e.first_name]})]})]})})})},P=Object(l.i)((function(e){var t,c,r=Object(l.h)().path,s=Object(n.useState)([{org_id:0,name:"",user_org_id:""}]),i=Object(o.a)(s,2),a=i[0],d=i[1],b=Object(n.useState)({dob:"",email:"",first_name:"",last_name:""}),u=Object(o.a)(b,2),h=u[0],m=u[1];return Object(n.useEffect)((function(){w("/user").then((function(e){200===e.status&&(console.log("Recv /user !!!"),console.log(e.data),m(e.data))})).catch((function(e){console.log("Get /user"),console.log(e)})),w("/org/list").then((function(e){200===e.status&&(console.log("Recv /org/list !!!"),console.log(e.data.orgs),d(e.data.orgs))})).catch((function(e){console.log("Get /org/list failed: "),console.log(e)}))}),[]),Object(j.jsx)("div",{children:Object(j.jsxs)(l.c,{children:[Object(j.jsxs)(l.a,{exact:!0,path:r,children:[Object(j.jsx)("h2",{className:"title",children:"User's information"}),z(h),Object(j.jsx)("h2",{className:"title",children:"Organization List"}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"NAME"},1),Object(j.jsx)("th",{children:"USER ORG ID"},2)]}),T(a,(function(t,c){console.log("[ + ] Redirecting to view details of "+c),e.history.push("/orgList/orgDetails/".concat(t))}))]})}),(t="Create Organization",c=function(){console.log("[ + ] Redirecting to create org page."),e.history.push("/createOrganization")},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:c,name:t,value:t,type:"button",children:t})}))]}),Object(j.jsx)(l.a,{path:"/orgList/orgDetails/:orgId",children:Object(j.jsx)(Q,{})})]})})})),U=Object(l.i)((function(e){var t=Object(g.b)(),c=t.register,n=t.handleSubmit;return Object(j.jsx)("div",{className:"col-12 CreateOrg-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-12 mt-2 hv-center",children:Object(j.jsxs)("form",{onSubmit:n((function(t){console.log(t.orgName),E("/org",{name:t.orgName,user_org_id:t.orgUser_org_id,verifier_password:t.orgVerifier_password}).then((function(t){200===t.status&&(console.log("[ORG created!!!]"),console.log("[ + ] Redirecting to organizations page."),e.history.push("/orgList"))})).catch((function(e){console.log("Create org failed: "),console.log(e)}))})),children:[Object(j.jsx)("h2",{children:"Create Organization"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgName",children:"Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"orgName",name:"orgName",placeholder:"Org Name",ref:c,required:"required"})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgUser_org_id",children:"User Organization ID"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"orgUser_org_id",name:"orgUser_org_id",placeholder:"User Organization ID",ref:c,required:"required"})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgVerifier_password",children:"ID Verifier Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"orgVerifier_password",name:"orgVerifier_password",placeholder:"Password",ref:c,required:"required"})]}),Object(j.jsx)("input",{type:"submit",value:"Create"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})})})}));var M=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(j.jsx)(a.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{className:"App-header",onBackClick:function(){}}),Object(j.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/",exact:!0,children:Object(j.jsx)(C,{showError:r,onClick:function(){}})}),Object(j.jsx)(l.a,{path:"/login",children:Object(j.jsx)(C,{showError:r,onClick:function(){}})}),Object(j.jsx)(l.a,{path:"/register",children:Object(j.jsx)(I,{showError:r})}),Object(j.jsx)(l.a,{path:"/home",children:Object(j.jsx)(_,{})}),Object(j.jsx)(l.a,{path:"/createOrganization",children:Object(j.jsx)(U,{showError:r})}),Object(j.jsx)(l.a,{path:"/orgList",children:Object(j.jsx)(P,{})}),Object(j.jsx)(l.a,{path:"/createElection",children:Object(j.jsx)(V,{})})]}),Object(j.jsx)(k,{errorMessage:c,hideError:r})]})]})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,250)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(M,{})}),document.getElementById("root")),H()},29:function(e,t,c){}},[[211,1,2]]]);
//# sourceMappingURL=main.bd6e3939.chunk.js.map