(this.webpackJsonppollination_rb=this.webpackJsonppollination_rb||[]).push([[0],{128:function(e,t,c){},238:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),r=c(13),i=c.n(r),o=(c(127),c(128),c(12)),l=(c(26),c(23)),a=c(19),d=c.p+"static/media/logo_pollination.8a160b60.jpg",j=c(1),u=function(e){var t=e.height,c=e.width,n=e.margin;return Object(j.jsx)("img",{className:"App-logo",style:{width:c,height:t,margin:n},src:d,alt:"logo"})},b=function(e){var t=e.height,c=e.width,n=e.margin,s=e.onClick,r=Object(a.f)();return Object(j.jsx)("img",{className:"Back-button",style:{width:c,height:t,margin:n},src:"data:image/png;base64,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",alt:"logo",onClick:function(){s(),r.goBack()}})},h=Object(a.i)((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("header",{className:e.className?e.className:"App-header",children:[Object(j.jsx)(b,{onClick:e.onBackClick}),Object(j.jsx)(u,{}),function(){for(var t=["/","/login","/register"],c=0;c<t.length;c++)if(t[c]===e.location.pathname)return;return Object(j.jsx)("div",{className:"",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){return sessionStorage.removeItem("jwt"),void e.history.push("/login")},children:"Logout"})})}()]})})})),m=c(21),O=c(44),g=c(24),x=c(17),p=c.n(x),f=c(28),v=c(114),N=c.n(v),E="https://pollination.live/api",S=function(){var e=sessionStorage.getItem("jwt");return N.a.create({headers:{Authorization:"Bearer ".concat(e)}})},_=function(){var e=Object(f.a)(p.a.mark((function e(t){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().get(E+t);case 3:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(0),console.log("getReq: "+e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(p.a.mark((function e(t,c){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S().post(E+t,c);case 3:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),console.log("postReq: "+e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),A=Object(a.i)((function(e){var t=Object(g.b)(),c=t.register,s=t.handleSubmit,r=t.errors,i=Object(n.useState)({dob:"",firstName:"",lastName:"",email:"",password:""}),l=Object(o.a)(i,2),a=l[0],d=l[1],u=function(e){var t=e.target,c=t.id,n=t.value;d((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},c,n))}))},b=function(){e.history.push("/home")};return Object(j.jsx)("div",{className:"Auth-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-4 mt-2 hv-center",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minHeight:"70vh"},children:Object(j.jsxs)("form",{onSubmit:s((function(e){sessionStorage.removeItem("jwt"),console.log("Data being sent to server:"),console.log("'dob':'"+e.dob+"'"),console.log("'email':'"+e.email+"'"),console.log("'first_name':'"+e.firstName+"'"),console.log("'last_name':'"+e.lastName+"'"),console.log("'password':'********'"),y("/user",{dob:e.dob,email:e.email,first_name:e.firstName,last_name:e.lastName,password:e.password}).then((function(e){200===e.status&&(sessionStorage.setItem("jwt",e.data.jwt_token),b())})).catch((function(e){console.log("registration failed: "),console.log(e)}))})),children:[Object(j.jsx)("h2",{children:"Register"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"date",children:"Date of Birth"}),Object(j.jsx)("input",{type:"date",className:"form-control",id:"dob",name:"dob",placeholder:"Date of Birth",value:a.dob,onChange:u,ref:c,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"fname",name:"firstName",placeholder:"First Name",onChange:u,ref:c,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"lname",name:"lastName",placeholder:"Last Name",onChange:u,ref:c,required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputEmail1",children:"Email Address"}),Object(j.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"Enter Email",value:a.email,onChange:u,ref:c({required:!0}),required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputPassword1",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:a.password,onChange:u,ref:c({required:!0,minLength:8}),required:!0}),r.password&&Object(j.jsxs)("p",{children:["This field is required. Min length: ",8]})]}),Object(j.jsx)("input",{type:"submit"}),Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("span",{children:"Already have an account? "}),Object(j.jsx)("span",{style:{color:"#007bff",fontWeight:"bold",cursor:"pointer"},onClick:function(){console.log("Going to login page"),e.history.push("/login")},children:"Login here"})]})]})})})})),w=Object(a.i)((function(e){sessionStorage.removeItem("jwt");var t=Object(g.b)(),c=t.register,s=t.handleSubmit,r=t.errors,i=Object(n.useState)({email:"",password:""}),l=Object(o.a)(i,2),a=l[0],d=l[1],u=function(e){var t=e.target,c=t.id,n=t.value;d((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(m.a)({},c,n))}))},b=function(){e.history.push("/home")};return Object(j.jsx)("div",{className:"Auth-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-4 mt-2 hv-center",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minHeight:"50vh"},children:Object(j.jsxs)("form",{onSubmit:s((function(e){y("/user/login",{email:e.email,password:e.password}).then((function(e){200===e.status&&(sessionStorage.setItem("jwt",e.data.jwt_token),b())})).catch((function(e){console.log("login failed: "),console.log(e)}))})),children:[Object(j.jsx)("h2",{children:"Login"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputEmail1",children:"Email address"}),Object(j.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",placeholder:"Enter email",value:a.email,onChange:u,ref:c({required:!0})})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"inputPassword1",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:a.password,onChange:u,ref:c({required:!0,minLength:8})}),r.password&&Object(j.jsxs)("p",{children:["This field is required. Min length: ",8]})]}),Object(j.jsx)("input",{type:"submit",value:"Login"}),Object(j.jsxs)("div",{className:"mt-2",children:[Object(j.jsx)("span",{children:"Don't have an account? "}),Object(j.jsx)("span",{style:{color:"#007bff",fontWeight:"bold",cursor:"pointer"},onClick:function(){console.log("Going to registration page"),e.history.push("/register")},children:"Register here"})]})]})})})}));var I=function(e){var t=Object(n.useState)("none"),c=Object(o.a)(t,2),s=c[0],r=c[1],i=function(){r("none"),e.hideError(null)};return Object(n.useEffect)((function(){null!==e.errorMessage?r("block"):i()})),Object(j.jsx)("div",{className:"alert alert-danger alert-dismissable mt-4",role:"alert",id:"alertPopUp",style:{display:s},children:Object(j.jsxs)("div",{className:"d-flex alertMessage",children:[Object(j.jsx)("span",{children:e.errorMessage}),Object(j.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(){return i()},children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})})};var C=Object(a.i)((function(e){var t=function(){console.log("[ + ] Redirecting to organizations page."),e.history.push("/orgList")};return t(),Object(j.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(j.jsx)(h,{className:"App-header",onBackClick:function(){}}),Object(j.jsx)("h4",{children:"Home page content"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Create Organization",type:"button",onClick:function(){console.log("[ + ] Redirecting to create org page."),e.history.push("/createOrganization")},children:"Create Organization"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Organizations list",type:"button",onClick:function(){t()},children:"Organizations list"}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{name:"Create Election",type:"button",onClick:function(){console.log("[ + ] Redirecting to create election page."),e.history.push("/createElection")},children:"Create Election"})]})})),k=c(18),R=(c(153),c(76)),q=c.n(R),D=c(274),F=c(275),L=c(273),T={MULTI_SELECT:"Multiple selection",TRUE_FALSE:"True or False"};var U=Object(a.i)((function(e){var t=Object(a.g)().orgId,c=Object(g.b)({}),n=c.register,s=c.handleSubmit,r=c.reset,i=c.errors,o=c.watch,l=c.control,d=o("numberOfQuestions"),u=o("numberOfFields"),b=o("typeOfQuestions");function h(){var e=0;return e=u<0?0:u,b!==T.TRUE_FALSE?Object(k.a)(Array(parseInt(e||0)).keys()):(function(){for(var e=document.getElementsByClassName("field-value"),t=0;t<e.length;t++){var c=e[t].getElementsByTagName("input");c[0].value=t%2==0?"true":"false"}}(),Object(k.a)((Array("True","False")||0).keys()))}var m=function(){console.log("[ + ] Redirecting to view details of org: "+t),e.history.push("/orgList/")};return Object(j.jsx)("form",{onSubmit:s((function(e){e=function(e){var c=0;return e.election_id=0,void 0!==e.questions&&e.questions.map((function(t){var n,s;t.election_id=0,t.ordered_choices=!0,t.max_selection_count=null!==(n=parseInt(e.max_selection_count))&&void 0!==n?n:1,t.min_selection_count=null!==(s=parseInt(e.min_selection_count))&&void 0!==s?s:1,t.options.map((function(e){e.option_id=c,c+=1}))})),delete e.numberOfQuestions,delete e.numberOfFields,delete e.typeOfQuestions,delete e.max_selection_count,delete e.min_selection_count,e.start_time=e.start_time.toISOString().slice(0,-5)+"+00:00",e.end_time=e.end_time.toISOString().slice(0,-5)+"+00:00",e.org_id=parseInt(t),e}(e),console.log(JSON.stringify(e,null,4)),y("/org/elections",e).then((function(e){200===e.status&&(console.log("Election created"),setTimeout((function(){m()}),500))})).catch((function(e){console.log("create election error"),console.log(e)}))})),onReset:r,children:Object(j.jsxs)("div",{className:"card m-3",children:[Object(j.jsxs)("h5",{className:"card-header",children:["Create election for organisation ID: ",t]}),Object(j.jsx)(g.a,{name:"election_description",as:Object(j.jsx)(L.a,{id:"election_description",label:"Event Description",required:!0}),control:l,defaultValue:"",rules:{required:!0}}),Object(j.jsx)(F.a,{label:"Verification Required?",name:"verified",inputRef:n,control:Object(j.jsx)(D.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)(F.a,{label:"Results publicily available?",name:"public_results",inputRef:n,control:Object(j.jsx)(D.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)(F.a,{label:"Anonymous election?",name:"anonymous",inputRef:n,control:Object(j.jsx)(D.a,{style:{color:"#c5ae2d",marginLeft:"1em"}})}),Object(j.jsx)("div",{className:"card-body border-bottom",children:Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Start Date"}),Object(j.jsx)(g.a,{name:"start_time",control:l,render:function(e){var t=e.onChange,c=e.value;return Object(j.jsx)(q.a,{selected:c,onChange:t,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",showTimeSelect:!0,required:!0})}})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"End Date"}),Object(j.jsx)(g.a,{name:"end_time",control:l,render:function(e){var t=e.onChange,c=e.value;return Object(j.jsx)(q.a,{selected:c,onChange:t,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",showTimeSelect:!0,required:!0})}})]})]})}),Object(j.jsxs)("div",{className:"card-body border-bottom",children:[Object(j.jsx)("div",{className:"form-row",children:Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Number of Questions"}),Object(j.jsx)("input",{name:"numberOfQuestions",ref:n,className:"form-control",required:!0,type:"number",min:"0"}),Object(j.jsx)("label",{children:"Type of Questions"}),Object(j.jsx)("select",{name:"typeOfQuestions",ref:n,className:"form-control",required:!0,children:["",T.MULTI_SELECT,T.TRUE_FALSE].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))}),b!==T.TRUE_FALSE&&Object(j.jsx)("label",{children:"Number of Fields Per Question"}),b!==T.TRUE_FALSE&&Object(j.jsx)("input",{name:"numberOfFields",ref:n,className:"form-control",required:!0,type:"number",min:"0"})]})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col",children:[b!==T.TRUE_FALSE&&Object(j.jsx)("label",{children:"Min Selection Per Question"}),b!==T.TRUE_FALSE&&Object(j.jsx)("input",{name:"min_selection_count",ref:n,className:"form-control",required:!0,type:"number",min:"0"})]}),Object(j.jsxs)("div",{className:"col",children:[b!==T.TRUE_FALSE&&Object(j.jsx)("label",{children:"Max Selection Per Question"}),b!==T.TRUE_FALSE&&Object(j.jsx)("input",{name:"max_selection_count",ref:n,className:"form-control",required:!0,type:"number",min:"0"})]})]})]}),function(){var e=0;return e=d<0?0:d,Object(k.a)(Array(parseInt(e||0)).keys())}().map((function(e){var t,c,s;return Object(j.jsx)("div",{className:"list-group list-group-flush",children:Object(j.jsxs)("div",{className:"list-group-item",children:[Object(j.jsxs)("h5",{className:"card-title",children:[" ",e+1," "]}),Object(j.jsxs)("div",{className:"form-row",children:[Object(j.jsxs)("div",{className:"form-group col-6",children:[Object(j.jsxs)("label",{children:["Question ",e+1]}),Object(j.jsx)("input",{name:"questions[".concat(e,"].question_description"),ref:n,type:"text",className:"form-control"}),Object(j.jsx)("div",{className:"invalid-feedback",children:null===(t=i.questions)||void 0===t||null===(c=t[e])||void 0===c||null===(s=c.question)||void 0===s?void 0:s.message})]}),Object(j.jsx)("div",{className:"form-col col-6",children:h().map((function(t){return Object(j.jsxs)("div",{className:"field-value",children:[Object(j.jsx)("label",{}),Object(j.jsx)("input",{name:"questions[".concat(e,"].options[").concat(t,"].option_description"),ref:n,type:"text",className:"form-control"})]})}))})]})]})},e)})),Object(j.jsxs)("div",{className:"card-footer text-center border-top-0",children:[Object(j.jsx)("button",{type:"submit",className:"btn btn-primary mr-1",children:"Submit"}),Object(j.jsx)("button",{className:"btn btn-secondary mr-1",type:"reset",children:"Reset"})]})]})})})),B=Object(a.i)((function(){var e=Object(a.g)().election_id;console.log("Election ID: "+e);var t,c,s,r=Object(n.useState)({anonymous:!1,election_description:"",election_id:0,end_time:"",org_id:5,public_results:!1,questions:[],start_time:"",verified:!1}),i=Object(o.a)(r,2),l=i[0],d=i[1];return Object(n.useEffect)((function(){_("/org/elections?election_id=".concat(e)).then((function(e){200===e.status&&(console.log("GOT /org/elections/list !!!"),d(e.data))})).catch((function(e){console.log("Get /org/elections/list failed: "),console.log(e)}))}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"title",children:l.election_description}),Object(j.jsx)("table",{id:"infoTable",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"election_description:"}),Object(j.jsx)("td",{children:l.election_description})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Election Id:"}),Object(j.jsx)("td",{children:l.election_id})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Start Time:"}),Object(j.jsx)("td",{children:l.start_time})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"End Time:"}),Object(j.jsx)("td",{children:l.end_time})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Org Id:"}),Object(j.jsx)("td",{children:l.org_id})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Anonymous:"}),Object(j.jsx)("td",{children:l.anonymous+""})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"Public Results:"}),Object(j.jsx)("td",{children:l.public_results+""})]}),Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:"User needs to be verified:"}),Object(j.jsx)("td",{children:l.verified+""})]})]})}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsx)("th",{children:"Question Id"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Choices"}),(s=l.questions,s.map((function(e,t){var c=e.question_id,n=e.question_description,s=e.options;return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{className:"options",children:s.map((function(e,t){var c=e.option_description;return Object(j.jsxs)("div",{children:[t+1," : ",c,Object(j.jsx)("br",{})]})}))})]},t)})))]})}),(t="Edit Election",c=function(){console.log("Switch to edit Election view")},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:c,name:t,value:t,type:"button",children:t})}))]})})),Q=function(e,t){return e.map((function(e,c){var n=e.election_id,s=e.election_description,r=e.start_time,i=e.end_time;return Object(j.jsxs)("tr",{onClick:function(){console.log("Viewing: "+s),t(n)},children:[Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:i})]},c)}))},V=function(e){return e.map((function(e,t){var c=e.email,n=e.first_name,s=e.last_name,r=e.dob,i=e.privilege;return Object(j.jsxs)("tr",{onClick:function(){console.log("Clicked on: "+e)},children:[Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:n+" "+s}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:4===i?"Owner":3===i?"Admin":2===i?"Member":""})]},t)}))},W=Object(a.i)((function(e){var t=Object(a.h)().path,c=Object(a.g)().orgId;console.log("ORG ID: "+c);var s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],l=r[1],d=Object(n.useState)(""),u=Object(o.a)(d,2),b=u[0],h=u[1],m=Object(n.useState)([{election_id:1,election_description:"",start_time:"",end_time:""}]),O=Object(o.a)(m,2),x=O[0],p=O[1],f=Object(n.useState)([{email:"email@email.com",first_name:"first",last_name:"last",privilege:1,user_org_id:"some id",dob:"2021-01-01",uid:0}]),v=Object(o.a)(f,2),N=v[0],E=v[1],S=Object(n.useState)(0),A=Object(o.a)(S,2),w=A[0],I=A[1];Object(n.useEffect)((function(){_("/org/elections/list?org_id=".concat(c)).then((function(e){200===e.status&&(console.log("GOT /org/elections/list !!!"),p(e.data.elections))})).catch((function(e){console.log("Get /org/elections/list failed: "),console.log(e)})),_("/org/users?org_id=".concat(c,"&min_privilege_level=0")).then((function(e){200===e.status&&(console.log("GOT /org/users !!!"),E(e.data.users))})).catch((function(e){console.log("Get /org/users failed: "),console.log(e)})),_("/org/list").then((function(e){if(200===e.status){for(var t in e.data.orgs)parseInt(c)===e.data.orgs[t].org_id&&I(e.data.orgs[t].privilege);console.log("Recv /org/list and set privilege !!!")}})).catch((function(e){console.log("Get /org/list failed: "),console.log(e)}))}),[c]);var C,k,R=Object(g.b)(),q=R.register,D=R.handleSubmit;return Object(j.jsx)("div",{children:Object(j.jsxs)(a.c,{children:[Object(j.jsxs)(a.a,{exact:!0,path:t,children:[Object(j.jsxs)("h2",{className:"title",children:["Organization ID: ",c]}),Object(j.jsx)("h4",{className:"title",children:4===w?"(You are the owner of this organisation)":3===w?"(You are an admin)":2===w?"(You are a member)":""}),Object(j.jsx)("h3",{className:"title",children:"Election List:"}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"DESCRIPTION"},1),Object(j.jsx)("th",{children:"START"},2),Object(j.jsx)("th",{children:"END"},3)]}),Q(x,(function(t){console.log("[ + ] Redirecting to create election page."),e.history.push("/orgList/orgDetails/".concat(c,"/electionDetails/").concat(t))}))]})}),(C="Create Election",k=function(){var t;t=c,console.log("[ + ] Redirecting to create election page."),e.history.push("/orgList/orgDetails/".concat(t,"/createElection/").concat(t))},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:k,name:C,value:C,type:"button",children:C})})),Object(j.jsx)("br",{}),w>2?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"title",children:"User List:"}),Object(j.jsx)("table",{id:"userList",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Email"},0),Object(j.jsx)("th",{children:"Full Name"},1),Object(j.jsx)("th",{children:"DOB"},2),Object(j.jsx)("th",{children:"Privilege"},3)]}),V(N)]})}),Object(j.jsxs)("form",{id:"addUserForm",onSubmit:D((function(e){y("/org/users/invite",{invites:[{email:e.userEmail,user_org_id:e.userOrgId}],org_id:parseInt(c)}).then((function(e){200===e.status&&console.log("[User list updated!!!]")})).catch((function(e){console.log("User list POST failed: "),console.log(e)}))})),children:[Object(j.jsx)("h4",{className:"title",children:"Invite user to org:"}),Object(j.jsxs)("div",{id:"addUserInput",children:[Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{children:"User Email:"}),Object(j.jsx)("input",{type:"text",value:i,id:"userEmail",name:"userEmail",ref:q,placeholder:"actualEmail@email.com",onChange:function(e){return l(e.target.value)},className:"form-control",required:!0})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{children:"User Org Id:"}),Object(j.jsx)("input",{type:"text",value:b,id:"userOrgId",name:"userOrgId",ref:q,placeholder:"anything",onChange:function(e){return h(e.target.value)},className:"form-control",required:!0})]})]}),Object(j.jsx)("input",{className:"button",type:"submit",value:"Invite"})]})]}):""]}),Object(j.jsx)(a.a,{path:"/orgList/orgDetails/:orgId/createElection/:orgId",children:Object(j.jsx)(U,{})}),Object(j.jsx)(a.a,{path:"/orgList/orgDetails/:orgId/electionDetails/:election_id",children:Object(j.jsx)(B,{})})]})})})),G=function(e,t){return e.map((function(e,c){var n=e.org_id,s=e.name,r=e.user_org_id;return Object(j.jsxs)("tr",{onClick:function(){t(n,s)},children:[Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:r})]},c)}))},J=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("table",{id:"infoTable",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["Email: ",e.email]}),Object(j.jsxs)("td",{children:["D.O.B: ",e.dob]})]}),Object(j.jsxs)("tr",{children:[Object(j.jsxs)("td",{children:["Last Name: ",e.last_name]}),Object(j.jsxs)("td",{children:["First Name: ",e.first_name]})]})]})})})},M=Object(a.i)((function(e){var t,c,s=Object(a.h)().path,r=Object(n.useState)([{org_id:0,name:"",user_org_id:""}]),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)({dob:"",email:"",first_name:"",last_name:""}),b=Object(o.a)(u,2),h=b[0],m=b[1];return Object(n.useEffect)((function(){_("/user").then((function(e){200===e.status&&(console.log("Recv /user !!!"),m(e.data))})).catch((function(e){console.log(e)})),_("/org/list").then((function(e){200===e.status&&(console.log("Recv /org/list !!!"),d(e.data.orgs))})).catch((function(e){console.log("Get /org/list failed: "),console.log(e)}))}),[]),Object(j.jsx)("div",{children:Object(j.jsxs)(a.c,{children:[Object(j.jsxs)(a.a,{exact:!0,path:s,children:[Object(j.jsx)("h2",{className:"title",children:"User's information"}),J(h),Object(j.jsx)("h2",{className:"title",children:"Organization List"}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"NAME"},1),Object(j.jsx)("th",{children:"USER ORG ID"},2)]}),G(l,(function(t,c){console.log("[ + ] Redirecting to view details of "+c),e.history.push("/orgList/orgDetails/".concat(t))}))]})}),(t="Create Organization",c=function(){console.log("[ + ] Redirecting to create org page."),e.history.push("/createOrganization")},Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{onClick:c,name:t,value:t,type:"button",children:t})}))]}),Object(j.jsx)(a.a,{path:"/orgList/orgDetails/:orgId",children:Object(j.jsx)(W,{})})]})})})),P=Object(a.i)((function(e){var t=Object(g.b)(),c=t.register,n=t.handleSubmit;return Object(j.jsx)("div",{className:"col-12 CreateOrg-form",children:Object(j.jsx)("div",{className:"card col-12 col-lg-12 mt-2 hv-center",children:Object(j.jsxs)("form",{onSubmit:n((function(t){y("/org",{name:t.orgName,user_org_id:t.orgUser_org_id,verifier_password:t.orgVerifier_password}).then((function(t){200===t.status&&(console.log("[ORG created!!!]"),console.log("[ + ] Redirecting to organizations page."),e.history.push("/orgList"))})).catch((function(e){console.log("Create org failed: "),console.log(e)}))})),children:[Object(j.jsx)("h2",{children:"Create Organization"}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgName",children:"Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"orgName",name:"orgName",ref:c,placeholder:"Org Name",required:"required"})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgUser_org_id",children:"User Organization ID"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"orgUser_org_id",name:"orgUser_org_id",placeholder:"User Organization ID",ref:c,required:"required"})]}),Object(j.jsxs)("div",{className:"form-group text-left",children:[Object(j.jsx)("label",{htmlFor:"orgVerifier_password",children:"ID Verifier Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"orgVerifier_password",name:"orgVerifier_password",placeholder:"Password",ref:c,required:"required"})]}),Object(j.jsx)("input",{className:"button",type:"submit",value:"Create"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{})]})})})})),z=function(e,t){return e.map((function(e,c){var n=e.election_description,s=e.election_id,r=e.end_time,i=e.start_time,o=e.org_id;return Object(j.jsxs)("tr",{onClick:function(){t(s,n)},children:[Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:i}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:o})]},c)}))},H=Object(a.i)((function(e){var t=Object(n.useState)([{anonymous:"",election_description:"",election_id:0,end_time:"",start_time:"",ord_id:0}]),c=Object(o.a)(t,2),s=c[0],r=c[1];Object(n.useEffect)((function(){_("/org/elections/public/get/list?page=1&elections_per_page=333").then((function(e){200===e.status&&r(e.data.elections.filter((function(e){return!0===e.public_results})))})).catch((function(e){console.log(e)}))}),[]);var i=Object(a.h)().path;return Object(j.jsx)(a.c,{children:Object(j.jsx)(a.a,{exact:!0,path:i,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"title",children:"Public Elections List"}),Object(j.jsx)("table",{id:"org",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"},0),Object(j.jsx)("th",{children:"ELECTION DESCRIPTION"},1),Object(j.jsx)("th",{children:"START TIME"},2),Object(j.jsx)("th",{children:"END TIME"},3),Object(j.jsx)("th",{children:"ORG ID"},5)]}),z(s,(function(t,c){console.log("[ + ] Redirecting to view details of "+c),e.history.push("/electionResults/electionDetails/".concat(t))}))]})})]})})})}));var K=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(j.jsx)(l.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{className:"App-header",onBackClick:function(){}}),Object(j.jsxs)("div",{className:"container d-flex align-items-center flex-column",children:[Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{path:"/",exact:!0,children:Object(j.jsx)(w,{showError:s,onClick:function(){}})}),Object(j.jsx)(a.a,{path:"/login",children:Object(j.jsx)(w,{showError:s,onClick:function(){}})}),Object(j.jsx)(a.a,{path:"/register",children:Object(j.jsx)(A,{showError:s})}),Object(j.jsx)(a.a,{path:"/home",children:Object(j.jsx)(C,{})}),Object(j.jsx)(a.a,{path:"/createOrganization",children:Object(j.jsx)(P,{showError:s})}),Object(j.jsx)(a.a,{path:"/orgList",children:Object(j.jsx)(M,{})}),Object(j.jsx)(a.a,{path:"/createElection",children:Object(j.jsx)(U,{})}),Object(j.jsx)(a.a,{path:"/electionResults",children:Object(j.jsx)(H,{})})]}),Object(j.jsx)(I,{errorMessage:c,hideError:s})]})]})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,277)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(K,{})}),document.getElementById("root")),Y()},26:function(e,t,c){}},[[238,1,2]]]);
//# sourceMappingURL=main.701ccb46.chunk.js.map