{"version":3,"sources":["images/logo_pollination.jpg","components/PollinationLogo.js","components/BackButton.js","images/back.png","components/Header.js","utils/customAxiosLib.js","components/RegistrationForm.js","components/LoginForm.js","components/AlertMessage.js","screens/Home.js","screens/CreateElection.js","screens/ElectionDetails.js","screens/OrganizationDetails.js","screens/OrganizationList.js","screens/CreateOrganization.js","screens/ElectionResults.js","App.js","reportWebVitals.js","index.js"],"names":["PollinationLogo","height","width","margin","className","style","src","logo","alt","BackButton","onClick","history","useHistory","goBack","withRouter","props","onBackClick","loggedInList","i","length","location","pathname","sessionStorage","removeItem","push","renderLogout","api_path","logResponse","response","console","log","status","headers","data","getAxiosInstance","jwt_token","getItem","axios","create","getReq","apiEndpoint","a","get","postReq","jsonObj","post","useForm","register","handleSubmit","errors","useState","registerError","setRegisterError","dob","firstName","lastName","email","password","state","setState","handleChange","e","target","id","value","prevState","redirectToHome","position","top","left","transform","minHeight","onSubmit","then","setItem","catch","error","htmlFor","type","name","placeholder","onChange","ref","required","aria-describedby","minLength","display","color","fontWeight","cursor","loginError","setLoginError","AlertComponent","modalDisplay","toggleDisplay","closeModal","hideError","useEffect","errorMessage","role","aria-label","aria-hidden","redirectToOrgList","TypeSelection_Enum","MULTI_SELECT","TRUE_FALSE","orgId","useParams","reset","watch","control","watchNumberOfQuestions","watchNumberOfFields","watchTypeOfQuestions","numberOfFields","tmp","Array","parseInt","keys","field_divs","document","getElementsByClassName","input_elements","getElementsByTagName","setFieldValuesBool","redirectToOrganizationDetails","json_obj","count","election_id","undefined","questions","map","q","ordered_choices","max_selection_count","min_selection_count","options","op","option_id","toISOString","slice","updateOptionsJSON","JSON","stringify","setTimeout","onReset","as","TextField","label","defaultValue","rules","FormControlLabel","inputRef","Checkbox","marginLeft","render","selected","timeInputLabel","dateFormat","showTimeSelect","min","questionNumbers","question","message","j","btnName","questionList","anonymous","election_description","end_time","org_id","public_results","start_time","verified","electionInfo","setElectionInfo","index","question_id","question_description","option","option_description","renderElectionTableData","electionList","redirectToElectionDetails","election","renderUserTableData","userList","user","first_name","last_name","privilege","path","useRouteMatch","inviteError","setInviteError","visibleInvitation","setInviVisi","userEmail","setUserEmail","userOrgId","setUserOrgId","setElectionList","user_org_id","uid","setUserList","setPrivilege","elections","users","org","orgs","exact","CreateElection","renderTableData","orgList","renderUserInfo","userInfo","listState","setUserInfo","orgName","orgUser_org_id","orgVerifier_password","jsonData","election_info","ElectionVoteDetails","Number","parseFloat","result","toPrecision","ord_id","filter","App","updateErrorMessage","showError","CreateOrganization","OrganizationList","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d85e49b8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_pollination.8a160b60.jpg\";","import logo from '../images/logo_pollination.jpg';\r\nimport '../css/App.css'\r\n\r\nconst PollinationLogo = \r\n    ({height, width, margin}) => {\r\n        \r\n    return (\r\n        \r\n        <img className=\"App-logo\" style={{width: width, height:height, margin:margin}}               \r\n        src={logo} alt=\"logo\"/>\r\n    )\r\n}\r\n\r\nexport default PollinationLogo;\r\n","import BackPNG from '../images/back.png';\r\nimport '../css/App.css'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst BackButton = \r\n    ({height, width, margin, onClick}) => {\r\n\r\n    let history = useHistory();\r\n\r\n    return (\r\n        <img className=\"Back-button\" \r\n        style={{width: width, height:height, margin:margin}}               \r\n        src={BackPNG} alt=\"logo\" \r\n        onClick={() => {onClick(); history.goBack();}}/>\r\n    )\r\n}\r\n\r\nexport default BackButton;\r\n","export default \"data:image/png;base64,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\"","import '../css/App.css';\r\nimport PollinationLogo from './PollinationLogo';\r\nimport BackButton from './BackButton';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    function renderLogout() {\r\n        const loggedInList = ['/', '/login', '/register'];\r\n\r\n        for (let i = 0; i < loggedInList.length; i++) {\r\n            if (loggedInList[i] === props.location.pathname) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div className=\"\">\r\n                <button className=\"btn btn-danger\" onClick={() => handleLogout()}>Logout</button>\r\n            </div>\r\n        )\r\n    \r\n    }\r\n    function handleLogout() {\r\n        sessionStorage.removeItem(\"jwt\");\r\n        props.history.push('/login')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <header className={props.className?props.className:'App-header'}>\r\n                <BackButton onClick={props.onBackClick}/>\r\n                <PollinationLogo/>\r\n                {renderLogout()}\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Header);","import axios from \"axios\";\r\n\r\nconst api_path = 'https://pollination.live/api';\r\n\r\nconst logResponse = (response) => {\r\n    console.log(\"Response Status:\" + response.status);\r\n    console.log(\"Response headers:\");\r\n    console.log(response.headers);\r\n    console.log(\"Response data:\");\r\n    console.log(response.data);\r\n}\r\n\r\nconst getAxiosInstance = () => {\r\n    let jwt_token = sessionStorage.getItem(\"jwt\");\r\n    console.log(\"before making request: \" + jwt_token)\r\n    let axiosInstance =  axios.create({\r\n        headers: {\r\n            \"Authorization\" : `Bearer ${jwt_token}`,\r\n        }\r\n    }); \r\n    return axiosInstance;\r\n}\r\n\r\nexport const getReq = async (apiEndpoint) => {\r\n  try {\r\n    const response = await getAxiosInstance().get(api_path + apiEndpoint);\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"getReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const postReq = async (apiEndpoint, jsonObj) => {\r\n  try {\r\n    const response = await getAxiosInstance().post(\r\n      api_path + apiEndpoint,\r\n      jsonObj\r\n    );\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"postReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n","import {useState} from 'react';\r\nimport '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\n// import axios from 'axios';\r\nimport {postReq} from '../utils/customAxiosLib'\r\n\r\n// const axios = require('axios');\r\n\r\nconst RegistrationForm = (props) => {\r\n    const minPass = 8;\r\n\r\n    const { register, handleSubmit, errors } = useForm();\r\n    \r\n    const onSubmit = (data) => {\r\n\r\n        sessionStorage.removeItem(\"jwt\");\r\n\r\n        console.log(\"Data being sent to server:\")\r\n        console.log(\"'dob':'\" +data.dob+\"'\");\r\n        console.log(\"'email':'\"+data.email+\"'\");\r\n        console.log(\"'first_name':'\"+data.firstName+\"'\"); \r\n        console.log(\"'last_name':'\"+data.lastName+\"'\");\r\n        console.log(\"'password':'********'\")\r\n\r\n        postReq('/user', {\r\n            \"dob\":data.dob,\r\n            \"email\": data.email,\r\n            \"first_name\": data.firstName,\r\n            \"last_name\": data.lastName,\r\n            \"password\": data.password,\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                sessionStorage.setItem(\"jwt\", response.data.jwt_token);\r\n                redirectToHome();\r\n            } else {\r\n                setRegisterError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"registration failed: \");\r\n            console.log(error);\r\n            setRegisterError(true);\r\n        })\r\n    };\r\n\r\n    const [registerError , setRegisterError] = useState(false)\r\n\r\n    const [state , setState] = useState({\r\n        dob: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email : \"\",\r\n        password : \"\",\r\n        // confirmPassword: \"\",\r\n    })\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        props.history.push('/home');\r\n    }\r\n    const redirectToLogin = () => {\r\n        props.history.push('/login'); \r\n    }\r\n\r\n    const centerForm = {position:'absolute', top:'50%', left:'50%', transform: 'translate(-50%, -50%)', minHeight:'70vh' }\r\n    \r\n    return (\r\n        <div className=\"Auth-form\">\r\n            <div className=\"card col-12 col-lg-4 mt-2 hv-center\" style={centerForm}>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <h2>Register</h2>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"date\">Date of Birth</label>\r\n                        <input type=\"date\" \r\n                            className=\"form-control\" \r\n                            id=\"dob\" \r\n                            name=\"dob\" \r\n                            placeholder=\"Date of Birth\"\r\n                            value={state.dob}\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input type=\"text\" \r\n                            className=\"form-control\" \r\n                            id=\"fname\"\r\n                            name=\"firstName\" \r\n                            placeholder=\"First Name\"\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input type=\"text\" \r\n                            className=\"form-control\" \r\n                            id=\"lname\" \r\n                            name=\"lastName\" \r\n                            placeholder=\"Last Name\"\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputEmail1\">Email Address</label>\r\n                        <input type=\"email\" \r\n                            className=\"form-control\" \r\n                            id=\"email\" \r\n                            name=\"email\" \r\n                            aria-describedby=\"emailHelp\" \r\n                            placeholder=\"Enter Email\"\r\n                            value={state.email}\r\n                            onChange={handleChange}\r\n                            ref={register({required: true})}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputPassword1\">Password</label>\r\n                        <input type=\"password\" \r\n                            className=\"form-control\" \r\n                            id=\"password\" \r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            ref={register({ required: true, minLength: minPass})}\r\n                            required\r\n                        />\r\n                        {errors.password && <p>This field is required. Min length: {minPass}</p>}\r\n                    </div>\r\n\r\n                    <p \r\n                        style={{\r\n                            display: `${registerError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Your email might have already been registered with us!</p>\r\n\r\n                    <input className=\"button\" type=\"submit\" value=\"Register\"/>\r\n\r\n                    <div className=\"mt-2\">\r\n                        <span>Already have an account? </span>\r\n                        <span style={{color: '#007bff', fontWeight: 'bold', cursor: 'pointer' }} \r\n                        onClick={() => {console.log('Going to login page'); redirectToLogin()}}>Login here</span> \r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(RegistrationForm);","import {postReq} from '../utils/customAxiosLib'\r\nimport {useState} from 'react';\r\nimport '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\n\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    sessionStorage.removeItem(\"jwt\");\r\n\r\n    const minPass = 8;\r\n    const { register, handleSubmit, errors } = useForm();\r\n    \r\n    const onSubmit = data => {\r\n        postReq('/user/login', {\r\n            \"email\": data.email,\r\n            \"password\": data.password,\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                sessionStorage.setItem(\"jwt\", response.data.jwt_token);\r\n                redirectToHome();\r\n            } else {\r\n                console.log(\"login failed! \" + response);\r\n                setLoginError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"login failed: \");\r\n            console.log(error);\r\n            setLoginError(true);\r\n        })\r\n    };\r\n\r\n    const [loginError , setLoginError] = useState(false)\r\n\r\n    const [state , setState] = useState({\r\n        email : \"\",\r\n        password : \"\",\r\n    })\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        props.history.push('/home');\r\n    }\r\n    const redirectToRegister = () => {\r\n        props.history.push('/register'); \r\n    }\r\n\r\n    const centerForm = {position:'absolute', top:'50%', left:'50%', transform: 'translate(-50%, -50%)', minHeight:'50vh' }\r\n    \r\n    return (\r\n        <div className=\"Auth-form\">\r\n            <div className=\"card col-12 col-lg-4 mt-2 hv-center\" style={centerForm}>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <h2>Login</h2>\r\n                    \r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputEmail1\">Email address</label>\r\n                        <input type=\"email\" \r\n                            className=\"form-control\" \r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            aria-describedby=\"emailHelp\" \r\n                            placeholder=\"Enter email\"\r\n                            value={state.email}\r\n                            onChange={handleChange}\r\n                            ref={register({required: true})}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputPassword1\">Password</label>\r\n                        <input type=\"password\" \r\n                            className=\"form-control\" \r\n                            id=\"password\" \r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            ref={register({ required: true, minLength: minPass})}\r\n                        />\r\n                        {errors.password && <p>This field is required. Min length: {minPass}</p>}\r\n                    </div>\r\n                    <p \r\n                        style={{\r\n                            display: `${loginError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Please check your credentials!</p>\r\n                    <input className=\"button\" type=\"submit\" value=\"Login\"/>\r\n\r\n                    <div className=\"mt-2\">\r\n                        <span>Don't have an account? </span>\r\n                        <span style={{color: '#007bff', fontWeight: 'bold', cursor: 'pointer' }} \r\n                        onClick={() => {console.log('Going to registration page');redirectToRegister();}}>Register here</span> \r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(LoginForm);","import React, { useState, useEffect } from 'react';\r\n\r\nfunction AlertComponent(props) {\r\n    const [modalDisplay, toggleDisplay] = useState('none');\r\n    const openModal = () => {\r\n        toggleDisplay('block');     \r\n    }\r\n    const closeModal = () => {\r\n        toggleDisplay('none'); \r\n        props.hideError(null);\r\n    }\r\n    useEffect(() => {\r\n        if(props.errorMessage !== null) {\r\n            openModal()\r\n        } else {\r\n            closeModal()\r\n        }\r\n    });\r\n    \r\n    return(\r\n        <div \r\n            className={\"alert alert-danger alert-dismissable mt-4\"} \r\n            role=\"alert\" \r\n            id=\"alertPopUp\"\r\n            style={{ display: modalDisplay }}\r\n        >\r\n            <div className=\"d-flex alertMessage\">\r\n                <span>{props.errorMessage}</span>\r\n                <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => closeModal()}>\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n} \r\n\r\nexport default AlertComponent","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\n\r\n    // const handleSubmitClick = (e) => {\r\n    //     e.preventDefault();\r\n    //     props.onClick();\r\n    //     console.log(\"Sending Login Info to server\");=\r\n    //     redirectToHome();\r\n    // }\r\n\r\n\r\n    // const redirectToRegister = () => {\r\n    //     props.history.push('/register'); \r\n    // } \r\n\r\n\r\nfunction Home(props) {\r\n    const redirectToCreateOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\")\r\n        props.history.push('/createOrganization');\r\n    }\r\n    const redirectToOrgList = () => {\r\n        console.log(\"[ + ] Redirecting to organizations page.\")\r\n        props.history.push('/orgList');\r\n    }\r\n    const redirectToCreateElection = () => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push('/createElection');\r\n    }\r\n    // useEffect(() => {\r\n    //     axios.get(API_BASE_URL+'/user/me', { headers: { 'token': localStorage.getItem(ACCESS_TOKEN_NAME) }})\r\n    //     .then(function (response) {\r\n    //         if(response.status !== 200){\r\n    //           redirectToLogin()\r\n    //         }\r\n    //     })\r\n    //     .catch(function (error) {\r\n    //       redirectToLogin()\r\n    //     });\r\n    //   })\r\n    // function redirectToLogin() {\r\n    //     props.history.push('/login');\r\n    // }\r\n\r\n    redirectToOrgList();\r\n\r\n    return(\r\n        <div className=\"container d-flex align-items-center flex-column\">\r\n                    <Header className=\"App-header\" onBackClick={() => { }} />\r\n\r\n            <h4>Home page content</h4>\r\n            <br/>\r\n            <button name={\"Create Organization\"} type={`button`} onClick={() => {redirectToCreateOrg()}} >Create Organization</button>\r\n            <br/>\r\n            <button name={\"Organizations list\"} type={`button`} onClick={() => {redirectToOrgList()}} >Organizations list</button>\r\n            <br/>\r\n            <button name={\"Create Election\"} type={`button`} onClick={() => {redirectToCreateElection()}} >Create Election</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Home);","import React from \"react\";\r\nimport { postReq } from \"../utils/customAxiosLib\";\r\nimport \"../css/App.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { withRouter, useParams } from \"react-router-dom\";\r\nimport ReactDatePicker from \"react-datepicker\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst TypeSelection_Enum = {\r\n  MULTI_SELECT: \"Multiple selection\",\r\n  TRUE_FALSE: \"True or False\",\r\n};\r\n\r\nfunction ElectionForm(props) {\r\n  let { orgId } = useParams();\r\n\r\n  // functions to build form returned by useForm() hook\r\n  const { register, handleSubmit, reset, errors, watch, control } = useForm({});\r\n\r\n  // watch to enable re-render when question number is changed\r\n  const watchNumberOfQuestions = watch(\"numberOfQuestions\");\r\n\r\n  // watch to enable re-render when fields number is changed\r\n  const watchNumberOfFields = watch(\"numberOfFields\");\r\n\r\n  // watch to enable re-render of selections\r\n  const watchTypeOfQuestions = watch(\"typeOfQuestions\");\r\n\r\n  const isTrueFalseSelected = () =>\r\n    watchTypeOfQuestions === TypeSelection_Enum.TRUE_FALSE;\r\n  // return array of question indexes for rendering dynamic forms in the template\r\n  function questionNumbers() {\r\n    let tmp = 0;\r\n    if (watchNumberOfQuestions < 0) tmp = 0;\r\n    else tmp = watchNumberOfQuestions;\r\n    return [...Array(parseInt(tmp || 0)).keys()];\r\n  }\r\n\r\n  function numberOfFields() {\r\n    let tmp = 0;\r\n    if (watchNumberOfFields < 0) tmp = 0;\r\n    else tmp = watchNumberOfFields;\r\n\r\n    if (watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE) {\r\n      return [...Array(parseInt(tmp || 0)).keys()];\r\n    } else {\r\n      setFieldValuesBool();\r\n      return [...(Array(\"True\", \"False\") || 0).keys()];\r\n    }\r\n  }\r\n\r\n  function setFieldValuesBool() {\r\n    const field_divs = document.getElementsByClassName(\"field-value\");\r\n    for (let i = 0; i < field_divs.length; i++) {\r\n      const input_elements = field_divs[i].getElementsByTagName(\"input\");\r\n      i % 2 == 0 ? (input_elements[0].value = \"true\") : (input_elements[0].value = \"false\");\r\n    }\r\n  }\r\n\r\n  function updateOptionsJSON(json_obj) {\r\n    let count = 0;\r\n    let q_count = 0;\r\n    json_obj.election_id = 0;\r\n    if (json_obj.questions !== undefined) {\r\n      json_obj.questions.map(q => {\r\n        q.election_id = 0;\r\n        q.ordered_choices = true;\r\n        q.max_selection_count = parseInt(json_obj[\"max_selection_count\"]) || 1;\r\n        q.min_selection_count = parseInt(json_obj[\"min_selection_count\"]) || 1;\r\n\r\n        q.options.map(op => {\r\n          op.option_id = count;\r\n          count += 1;\r\n        });\r\n        q_count += 1;\r\n      });\r\n    }\r\n    delete json_obj[\"numberOfQuestions\"];\r\n    delete json_obj[\"numberOfFields\"];\r\n    delete json_obj[\"typeOfQuestions\"];\r\n    delete json_obj[\"max_selection_count\"]\r\n    delete json_obj[\"min_selection_count\"]\r\n    json_obj[\"start_time\"] = json_obj[\"start_time\"].toISOString().slice(0, -5) + \"+00:00\";\r\n    json_obj[\"end_time\"]   = json_obj[\"end_time\"].toISOString().slice(0, -5) + \"+00:00\";\r\n    json_obj[\"org_id\"] = parseInt(orgId);\r\n    return json_obj;\r\n  }\r\n  function onSubmit(data) {\r\n    // display form data on success\r\n    data = updateOptionsJSON(data);\r\n    console.log(JSON.stringify(data, null, 4));\r\n\r\n    postReq(\"/org/elections\", data)\r\n      .then(response => {\r\n        if (200 <= response.status && response.status < 300) {\r\n          console.log(\"Election created\");\r\n          setTimeout(() => {\r\n            redirectToOrganizationDetails();\r\n          }, 500);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(\"create election error\");\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const redirectToOrganizationDetails = () => {\r\n    console.log(\"[ + ] Redirecting to view details of org: \" + orgId);\r\n    props.history.push(`/orgList/`);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} onReset={reset}>\r\n      <div className=\"card m-3\">\r\n        <h5 className=\"card-header\">\r\n          Create election for organisation ID: {orgId}\r\n        </h5>\r\n\r\n        <Controller\r\n          name=\"election_description\"\r\n          as={\r\n            <TextField\r\n              id=\"election_description\"\r\n              label=\"Event Description\"\r\n              required\r\n            />\r\n          }\r\n          control={control}\r\n          defaultValue=\"\"\r\n          rules={{\r\n            required: true,\r\n          }}\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Verification Required?\"\r\n          name=\"verified\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Results publicily available?\"\r\n          name=\"public_results\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Anonymous election?\"\r\n          name=\"anonymous\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n          <div className=\"card-body border-bottom\">\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Start Date</label>\r\n                <Controller\r\n                  name={\"start_time\"}\r\n                  control={control}\r\n                  render={({ onChange, value }) => (\r\n                    <ReactDatePicker\r\n                      selected={value}\r\n                      onChange={onChange}\r\n                      timeInputLabel=\"Time:\"\r\n                      dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n                      showTimeSelect\r\n                      required\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>End Date</label>\r\n                <Controller\r\n                  name={\"end_time\"}\r\n                  control={control}\r\n                  render={({ onChange, value }) => (\r\n                    <ReactDatePicker\r\n                      selected={value}\r\n                      onChange={onChange}\r\n                      timeInputLabel=\"Time:\"\r\n                      dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n                      showTimeSelect\r\n                      required\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div className=\"card-body border-bottom\">\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label>Number of Questions</label>\r\n              <input\r\n                name=\"numberOfQuestions\"\r\n                ref={register}\r\n                className={`form-control`}\r\n                required\r\n                type=\"number\"\r\n                min=\"0\"\r\n              ></input>\r\n\r\n              <label>Type of Questions</label>\r\n              <select\r\n                name=\"typeOfQuestions\"\r\n                ref={register}\r\n                className={`form-control`}\r\n                required\r\n              >\r\n                {[\r\n                  \"\",\r\n                  TypeSelection_Enum.MULTI_SELECT,\r\n                  TypeSelection_Enum.TRUE_FALSE,\r\n                ].map(i => (\r\n                  <option key={i} value={i}>\r\n                    {i}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Number of Fields Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"numberOfFields\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n              <div className=\"col\">\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Min Selection Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"min_selection_count\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n              </div>\r\n              <div className=\"col\">\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Max Selection Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"max_selection_count\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n              </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        {questionNumbers().map(i => (\r\n          <div key={i} className=\"list-group list-group-flush\">\r\n            <div className=\"list-group-item\">\r\n              <h5 className=\"card-title\"> {i + 1} </h5>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-6\">\r\n                  <label>Question {i + 1}</label>\r\n                  <input\r\n                    name={`questions[${i}].question_description`}\r\n                    ref={register}\r\n                    type=\"text\"\r\n                    className={`form-control`}\r\n                  />\r\n                  <div className=\"invalid-feedback\">\r\n                    {errors.questions?.[i]?.question?.message}\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-col col-6\">\r\n                  {numberOfFields().map(j => (\r\n                    <div className=\"field-value\">\r\n                      <label></label>\r\n                      <input\r\n                        name={`questions[${i}].options[${j}].option_description`}\r\n                        ref={register}\r\n                        type=\"text\"\r\n                        className={`form-control`}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        <div className=\"card-footer text-center border-top-0\">\r\n          <button type=\"submit\" className=\"btn btn-primary mr-1\">\r\n            Submit\r\n          </button>\r\n          <button className=\"btn btn-secondary mr-1\" type=\"reset\">\r\n            Reset\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default withRouter(ElectionForm);\r\n","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq } from '../utils/customAxiosLib'\r\nimport { useState, useEffect} from 'react';\r\n\r\nconst renderButton = (btnName, onClick) => {\r\n    return (\r\n        <>\r\n        <button \r\n            onClick={onClick}\r\n            name={btnName} \r\n            value={btnName} \r\n            type={`button`}\r\n        >{btnName}</button>\r\n        </>\r\n    );\r\n}\r\n\r\nconst renderQuestionTable = (questionList) => {\r\n    return questionList.map((question, index) => {\r\n        const {question_id, question_description, options} = question;\r\n        return (\r\n        <tr\r\n        key={index}\r\n        >\r\n            <td>{question_id}</td>\r\n            <td>{question_description}</td>\r\n            <td className=\"options\">{options.map((option, index) => {\r\n                const {option_description} = option;\r\n                return (\r\n                    <div>\r\n                        {index + 1} : {option_description}<br/>\r\n                    </div>\r\n                )\r\n            })}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst ElectionDetails = () => {\r\n\r\n    let { election_id } = useParams();\r\n    console.log(\"Election ID: \" + election_id);\r\n\r\n    const [electionInfo, setElectionInfo] = useState({\r\n        anonymous: false,\r\n        election_description: \"\",\r\n        election_id: 0,\r\n        end_time: \"\",\r\n        org_id: 5,\r\n        public_results: false,\r\n        questions: [],\r\n        start_time: \"\",\r\n        verified: false\r\n    });\r\n\r\n    useEffect(()=>{\r\n        getReq(`/org/elections?election_id=${election_id}`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/elections/list !!!\")\r\n                setElectionInfo(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/elections/list failed: \");\r\n            console.log(error);\r\n        });    \r\n    }, [election_id]);\r\n\r\n    return (\r\n    <div>\r\n        <h2 className='title'>{electionInfo.election_description}</h2>\r\n        <table id=\"infoTable\">\r\n            <tbody>\r\n                <tr>\r\n                    <td>election_description:</td>\r\n                    <td>{electionInfo.election_description}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Election Id:</td>\r\n                    <td>{electionInfo.election_id}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Start Time:</td>\r\n                    <td>{electionInfo.start_time}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>End Time:</td>\r\n                    <td>{electionInfo.end_time}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Org Id:</td>\r\n                    <td>{electionInfo.org_id}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Anonymous:</td>\r\n                    <td>{electionInfo.anonymous + \"\"}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Public Results:</td>\r\n                    <td>{electionInfo.public_results + \"\"}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>User needs to be verified:</td>\r\n                    <td>{electionInfo.verified + \"\"}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <table id=\"org\">\r\n        <tbody>\r\n            <th>Question Id</th>\r\n            <th>Description</th>\r\n            <th>Choices</th>\r\n            {renderQuestionTable(electionInfo.questions)}\r\n        </tbody>\r\n        </table>\r\n        {renderButton(\"Edit Election\", () => {console.log(\"Switch to edit Election view\")})}\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(ElectionDetails);","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq, postReq } from '../utils/customAxiosLib'\r\nimport {useState, useEffect} from 'react';\r\nimport CreateElection from './CreateElection';\r\nimport ElectionDetails from './ElectionDetails';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nconst renderButton = (btnName, onClick) => {\r\n    return (\r\n        <>\r\n        <button \r\n        onClick={onClick}\r\n        name={btnName} \r\n        value={btnName} \r\n        type={`button`}\r\n        >{btnName}</button>\r\n        </>\r\n    );\r\n}\r\n\r\nconst renderElectionTableData = (electionList, redirectToElectionDetails) => {\r\n    return electionList.map((election, index) => {\r\n        const {election_id, election_description, start_time, end_time} = election;\r\n        return (\r\n        <tr \r\n            key={index} \r\n            onClick={() => {\r\n                console.log(\"Viewing: \" + election_description);\r\n                redirectToElectionDetails(election_id);\r\n            }}\r\n        >\r\n            <td>{election_id}</td>\r\n            <td>{election_description}</td>\r\n            <td>{start_time}</td>\r\n            <td>{end_time}</td>\r\n        </tr>\r\n        );\r\n    });\r\n\r\n}\r\n\r\nconst renderElectionTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>DESCRIPTION</th>\r\n            <th key={2}>START</th>\r\n            <th key={3}>END</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderUserTableData = (userList) => {\r\n    return userList.map((user, index) => {\r\n        const {email, first_name, last_name, dob, privilege} = user;\r\n        return (\r\n        <tr \r\n            key={index} \r\n            onClick={() => {\r\n                console.log(\"Clicked on: \" + user);\r\n            }}\r\n        >\r\n            <td>{email}</td>\r\n            <td>{first_name + \" \" + last_name}</td>\r\n            <td>{dob}</td>\r\n            <td>{privilege === 4 ? \"Owner\" : privilege === 3 ? \"Admin\" : privilege === 2 ? \"Member\" : \"\"}</td>\r\n        </tr>\r\n        );\r\n    });\r\n\r\n}\r\n\r\nconst renderUserTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>Email</th>\r\n            <th key={1}>Full Name</th>\r\n            <th key={2}>DOB</th>\r\n            <th key={3}>Privilege</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst OrganizationDetails = (props) => {\r\n\r\n    let { path } = useRouteMatch();\r\n    let { orgId } = useParams();\r\n    console.log(\"ORG ID: \" + orgId);\r\n\r\n    const redirectToEditOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\")\r\n        props.history.push('/createOrganization');\r\n    }\r\n\r\n    const redirectToCreateElection = (id) => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push(`/orgList/orgDetails/${id}/createElection/${id}`);\r\n    }\r\n\r\n    const redirectToElectionDetails = (election_id) => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push(`/orgList/orgDetails/${orgId}/electionDetails/${election_id}`);\r\n    }\r\n\r\n    const [inviteError, setInviteError] = useState(false);\r\n    const [visibleInvitation, setInviVisi] = useState(false);\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userOrgId, setUserOrgId] = useState(\"\");\r\n    const [electionList , setElectionList] = useState([    \r\n        {\r\n            election_id: 1,\r\n            election_description: \"\",\r\n            start_time: \"\",\r\n            end_time: \"\"\r\n        },\r\n    ])\r\n    const [userList , setUserList] = useState([    \r\n        {\r\n            email: \"email@email.com\",\r\n            first_name: \"first\",\r\n            last_name: \"last\",\r\n            privilege: 1,\r\n            user_org_id: \"some id\",\r\n            dob: \"2021-01-01\",\r\n            uid: 0\r\n        },\r\n    ])\r\n    const [privilege, setPrivilege] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        getReq(`/org/elections/list?org_id=${orgId}`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/elections/list !!!\")\r\n                setElectionList(response.data.elections);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/elections/list failed: \");\r\n            console.log(error);\r\n        });\r\n\r\n        getReq(`/org/users?org_id=${orgId}&min_privilege_level=0`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/users !!!\")\r\n                setUserList(response.data.users)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/users failed: \");\r\n            console.log(error);\r\n        });\r\n\r\n        getReq('/org/list')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                for (let org in response.data.orgs) {\r\n                    if (parseInt(orgId) === response.data.orgs[org].org_id )\r\n                        setPrivilege(response.data.orgs[org].privilege);\r\n                }\r\n                console.log(\"Recv /org/list and set privilege !!!\")\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/list failed: \");\r\n            console.log(error);\r\n        });\r\n    }, [orgId]);\r\n\r\n\r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = (data) => {\r\n        postReq('/org/users/invite', {\r\n            \"invites\": [\r\n                {\r\n                    \"email\": data.userEmail,\r\n                    \"user_org_id\": data.userOrgId\r\n                }\r\n            ],\r\n            \"org_id\": parseInt(orgId)\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"[User list updated!!!]\");\r\n                setUserEmail(\"\")\r\n                setUserOrgId(\"\")\r\n                setInviVisi(!visibleInvitation);\r\n                setInviteError(false);\r\n            } else {\r\n                console.log(\"[User list NOT UPDATED!!!]\");\r\n                setInviteError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"User list POST failed: \");\r\n            console.log(error);\r\n            setInviteError(true);\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n    <div>\r\n        <Switch>\r\n            <Route exact path={path}>\r\n                {/* <h1 id='title'>Organization Details</h1> */}\r\n                <h2 className='title'>Organization ID: {orgId}</h2>\r\n                <h4 className='title'>{privilege === 4 ? \"(You are the owner of this organisation)\" : privilege === 3 ? \"(You are an admin)\" : privilege === 2 ? \"(You are a member)\" : \"\"}</h4>\r\n                <h3 className='title'>Election List:</h3>\r\n                <table id='org'>\r\n                    <tbody>\r\n                        {renderElectionTableHeader()}\r\n                        {renderElectionTableData(electionList, redirectToElectionDetails)}\r\n                    </tbody>\r\n                </table>\r\n                \r\n                {renderButton(\"Create Election\", () => {redirectToCreateElection(orgId)})}\r\n                <br/>\r\n                {/* {renderButton(\"Edit Organization\", () => {redirectToEditOrg()})} */}\r\n\r\n                { privilege > 2 ? <>\r\n                <h3 className='title'>User List:</h3>\r\n                <table id='userList'>\r\n                    <tbody>\r\n                        {renderUserTableHeader()}\r\n                        {renderUserTableData(userList)}\r\n                    </tbody>\r\n                </table>\r\n                <button \r\n                    onClick={()=>{setInviVisi(!visibleInvitation)}} \r\n                    style={{display: `${visibleInvitation ? \"none\" : \"\"}`}}\r\n                >Add User</button>\r\n                <form id=\"addUserForm\" onSubmit={handleSubmit(onSubmit)} style={{display: `${visibleInvitation ? \"\" : \"none\"}`}}>\r\n                    <h4 className='title'>Invite user to org:</h4>\r\n                    <div id=\"addUserInput\">\r\n                    <div className=\"form-group text-left\">\r\n                        <label>User Email:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userEmail}\r\n                            id=\"userEmail\"\r\n                            name=\"userEmail\"\r\n                            ref={register}\r\n                            placeholder=\"actualEmail@email.com\"\r\n                            onChange={e => setUserEmail(e.target.value)}\r\n                            className=\"form-control\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label>User Org Id:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userOrgId}\r\n                            id=\"userOrgId\"\r\n                            name=\"userOrgId\"\r\n                            ref={register}\r\n                            placeholder=\"anything\"\r\n                            onChange={e => setUserOrgId(e.target.value)}\r\n                            className=\"form-control\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    </div>\r\n                    <p \r\n                        style={{\r\n                            display: `${inviteError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Please check the email address!</p>\r\n                    <input className=\"button\" type=\"submit\" value=\"Invite\" />\r\n                </form> \r\n                </> : \"\"}\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId/createElection/:orgId`}>\r\n                <CreateElection />\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId/electionDetails/:election_id`}>\r\n                <ElectionDetails />\r\n            </Route>\r\n        </Switch>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(OrganizationDetails);","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch\r\n} from \"react-router-dom\";\r\nimport { getReq } from '../utils/customAxiosLib'\r\nimport {useState, useEffect} from 'react';\r\nimport OrganizationDetails from './OrganizationDetails';\r\n\r\n\r\nconst renderCreateOrgButton = (btnName, onClick) => {\r\n    return (\r\n        <>\r\n        <button \r\n            onClick={onClick}\r\n            name={btnName} \r\n            value={btnName} \r\n            type={`button`}\r\n        >{btnName}</button>\r\n        </>\r\n    );\r\n}\r\n\r\nconst renderTableData = (orgList, redirectToOrganizationDetails) => {\r\n    return orgList.map((org, index) => {\r\n        const {org_id, name, user_org_id} = org;\r\n        return (\r\n        <tr \r\n        key={index}\r\n        onClick={() => {\r\n            redirectToOrganizationDetails(org_id, name);\r\n        }}\r\n        >\r\n            <td>{org_id}</td>\r\n            <td>{name}</td>\r\n            <td>{user_org_id}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst renderTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>NAME</th>\r\n            <th key={2}>USER ORG ID</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderUserInfo = (userInfo) => {\r\n    return (\r\n        <div>\r\n            <table id=\"infoTable\">\r\n                <tbody>\r\n                    <tr>                        \r\n                        <td>Email: {userInfo.email}</td>\r\n                        <td>D.O.B: {userInfo.dob}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Last Name: {userInfo.last_name}</td>\r\n                        <td>First Name: {userInfo.first_name}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst OrgList = (props) => {\r\n\r\n    const redirectToOrganizationDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/orgList/orgDetails/${id}`);\r\n    }\r\n\r\n    const redirectToCreateOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\");\r\n        props.history.push('/createOrganization');\r\n    }\r\n\r\n    let { path } = useRouteMatch();\r\n\r\n    const [listState , setState] = useState([    {\r\n            org_id: 0,\r\n            name: \"\",\r\n            user_org_id: \"\",\r\n        },\r\n    ])\r\n\r\n    const [userInfo, setUserInfo] = useState({\r\n        dob:'',\r\n        email:\"\",\r\n        first_name:\"\",\r\n        last_name:\"\"\r\n    });\r\n\r\n    useEffect(()=>{\r\n        getReq('/user')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"Recv /user !!!\")\r\n                setUserInfo(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        });\r\n        getReq('/org/list')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"Recv /org/list !!!\")\r\n                setState(response.data.orgs);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/list failed: \");\r\n            console.log(error);\r\n        });\r\n    }, []);\r\n\r\n\r\n    return (\r\n    <div>\r\n        <Switch>\r\n            <Route exact path={path}>\r\n            <h2 className='title'>User's information</h2>\r\n            {renderUserInfo(userInfo)}\r\n            <h2 className='title'>Organization List</h2>\r\n                <table id='org'>\r\n                    <tbody>\r\n                        {renderTableHeader()}\r\n                        {renderTableData(listState, redirectToOrganizationDetails)}\r\n                    </tbody>\r\n                </table>\r\n                {renderCreateOrgButton(\"Create Organization\", () => {redirectToCreateOrg()})}\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId`}>\r\n                <OrganizationDetails />\r\n            </Route>\r\n        </Switch>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(OrgList);","import '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\nimport { postReq } from '../utils/customAxiosLib';\r\n\r\nconst CreateOrganizationForm = (props) => {\r\n\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const redirectToOrgList = () => {\r\n        console.log(\"[ + ] Redirecting to organizations page.\")\r\n        props.history.push('/orgList');\r\n    }\r\n\r\n    const onSubmit = data => {\r\n\r\n        postReq('/org', {\r\n            \"name\": data.orgName,\r\n            \"user_org_id\": data.orgUser_org_id,\r\n            \"verifier_password\": data.orgVerifier_password,\r\n\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"[ORG created!!!]\");\r\n                redirectToOrgList();\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Create org failed: \");\r\n            console.log(error);\r\n        })\r\n\r\n    };\r\n\r\n    const newLine = \"\\r\\n\";\r\n    const emailPlaceholderText = \"{ \" + newLine + \"  EMAIL 1: UID,\" + newLine + \"  EMAIL 2: UID,\" + newLine + \"  EMAIL 3: UID,\" + newLine + \"}\"\r\n\r\n\r\n    return (\r\n        <div className=\"col-12 CreateOrg-form\">\r\n            <div className={`card col-12 col-lg-12 mt-2 hv-center`} >\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                    <h2>Create Organization</h2>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgName\">Name</label>\r\n                        <input type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"orgName\"\r\n                            name=\"orgName\"\r\n                            ref={register}\r\n                            placeholder=\"Org Name\"\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgUser_org_id\">User Organization ID</label>\r\n                        <input type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"orgUser_org_id\"\r\n                            name=\"orgUser_org_id\"\r\n                            placeholder=\"User Organization ID\"\r\n                            ref={register}\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgVerifier_password\">ID Verifier Password</label>\r\n                        <input type=\"password\"\r\n                            className=\"form-control\"\r\n                            id=\"orgVerifier_password\"\r\n                            name=\"orgVerifier_password\"\r\n                            placeholder=\"Password\"\r\n                            ref={register}\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"emailList\">Emails</label>\r\n                        <textarea type=\"scrolalbletextbox\"\r\n                            className=\"form-control\"\r\n                            cols=\"1\"\r\n                            id=\"emailList\"\r\n                            name=\"emailList\"\r\n                            placeholder={emailPlaceholderText}\r\n                            ref={register}\r\n                            rows=\"10\"\r\n                            required=\"required\"\r\n                        />\r\n                    </div> */}\r\n\r\n                    <input className=\"button\" type=\"submit\" value=\"Create\" />\r\n                    <br />\r\n                    <br />\r\n                    {/* <input type=\"submit\" value=\"Cancel\" /> */}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CreateOrganizationForm);","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch\r\n} from \"react-router-dom\";\r\nimport { getReq } from '../utils/customAxiosLib'\r\nimport { useState, useEffect} from 'react';\r\n\r\nconst jsonData = {\r\n    \"election_info\": {\r\n        \"anonymous\": true,\r\n        \"election_description\": \"test_elec\",\r\n        \"election_id\": 10,\r\n        \"end_time\": \"2024-01-23T04:56:07+00:00\",\r\n        \"org_id\": 10,\r\n        \"public_results\": true,\r\n        \"questions\": [\r\n            {\r\n                \"election_id\": 10,\r\n                \"max_selection_count\": 2,\r\n                \"min_selection_count\": 2,\r\n                \"options\": [\r\n                    {\r\n                        \"option_description\": \"q1_op1\",\r\n                        \"option_id\": 20,\r\n                        \"result\": 50.0,\r\n                        \"total_votes_for\": 8\r\n                    },\r\n                    {\r\n                        \"option_description\": \"q1_op2\",\r\n                        \"option_id\": 21,\r\n                        \"result\": 50.0,\r\n                        \"total_votes_for\": 8\r\n                    },\r\n                    {\r\n                        \"option_description\": \"q1_op3\",\r\n                        \"option_id\": 22,\r\n                        \"result\": 0.0,\r\n                        \"total_votes_for\": 0\r\n                    }\r\n                ],\r\n                \"ordered_choices\": false,\r\n                \"question_description\": \"q1\",\r\n                \"question_id\": 10\r\n            },\r\n            {\r\n                \"election_id\": 10,\r\n                \"max_selection_count\": 1,\r\n                \"min_selection_count\": 1,\r\n                \"options\": [\r\n                    {\r\n                        \"option_description\": \"q2_op1\",\r\n                        \"option_id\": 23,\r\n                        \"result\": 100.0,\r\n                        \"total_votes_for\": 8\r\n                    },\r\n                    {\r\n                        \"option_description\": \"q2_op2\",\r\n                        \"option_id\": 24,\r\n                        \"result\": 0.0,\r\n                        \"total_votes_for\": 0\r\n                    }\r\n                ],\r\n                \"ordered_choices\": false,\r\n                \"question_description\": \"q2\",\r\n                \"question_id\": 11\r\n            },\r\n            {\r\n                \"election_id\": 10,\r\n                \"max_selection_count\": 3,\r\n                \"min_selection_count\": 3,\r\n                \"options\": [\r\n                    {\r\n                        \"option_description\": \"q3_op1\",\r\n                        \"option_id\": 25,\r\n                        \"result\": 39.58333333333333,\r\n                        \"total_votes_for\": 19\r\n                    },\r\n                    {\r\n                        \"option_description\": \"q3_op2\",\r\n                        \"option_id\": 26,\r\n                        \"result\": 41.66666666666667,\r\n                        \"total_votes_for\": 20\r\n                    },\r\n                    {\r\n                        \"option_description\": \"q3_op3\",\r\n                        \"option_id\": 27,\r\n                        \"result\": 18.75,\r\n                        \"total_votes_for\": 9\r\n                    }\r\n                ],\r\n                \"ordered_choices\": true,\r\n                \"question_description\": \"q3\",\r\n                \"question_id\": 12\r\n            }\r\n        ],\r\n        \"start_time\": \"2000-01-23T04:56:07+00:00\",\r\n        \"verified\": true\r\n    },\r\n    \"org_info\": {\r\n        \"name\": \"yo sooonnn mollit\",\r\n        \"org_id\": 10\r\n    }\r\n}\r\nconst questions = jsonData.election_info.questions;\r\n\r\nconst ElectionVoteDetails = props => {\r\n    \r\n    return questions.map((question, index) => {\r\n        return (\r\n            <div>\r\n                <h2>{question.question_description}</h2>\r\n                <table id=\"org\">\r\n                    <tr>\r\n                        <th key={1}>Option</th>\r\n                        <th key={1}>Result</th>\r\n                    </tr>\r\n  \r\n                        {question.options.map((option, index) => {\r\n                            return (\r\n                            <tr>\r\n                            <td>{option.option_description}</td>\r\n                            <td>{Number.parseFloat(option.result).toPrecision(4)}%</td>\r\n                            </tr>\r\n                            )\r\n                        })}\r\n\r\n                </table>\r\n            </div>\r\n        );\r\n    });\r\n}\r\n\r\nconst renderTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>ELECTION DESCRIPTION</th>\r\n            <th key={2}>START TIME</th>\r\n            <th key={3}>END TIME</th>\r\n            <th key={5}>ORG ID</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderTableData = (electionList, redirectToElectionDetails) => {\r\n    return electionList.map((election, index) => {\r\n        const {election_description, election_id, end_time,\r\n        start_time, org_id} = election;\r\n        return (\r\n        <tr \r\n        key={index}\r\n        onClick={() => {\r\n            redirectToElectionDetails(election_id, election_description)\r\n        }}\r\n        >\r\n            <td>{election_id}</td>\r\n            <td>{election_description}</td>\r\n            <td>{start_time}</td>\r\n            <td>{end_time}</td>\r\n            <td>{org_id}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst ElectionResults = (props) => {\r\n    const redirectToElectionDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/electionResults/electionDetails/${id}`);\r\n    }\r\n    const [listState, setState] = useState([{\r\n        anonymous : \"\",\r\n        election_description: \"\",\r\n        election_id: 0,\r\n        end_time: \"\",\r\n        start_time: \"\",\r\n        ord_id: 0\r\n    }]);\r\n    useEffect(() => {\r\n        getReq(\"/org/elections/public/get/list?page=1&elections_per_page=333\").then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                setState(response.data.elections.filter(election => election.public_results === true))\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }, []);\r\n    \r\n    let { path } = useRouteMatch();\r\n\r\n    return (\r\n        <Switch>\r\n        <Route exact path={path}>\r\n        <div>\r\n            <h2 className='title'>Public Elections List</h2>\r\n            <table id=\"org\">\r\n                <tbody>\r\n                    {renderTableHeader()}\r\n                    {renderTableData(listState, redirectToElectionDetails)}\r\n                </tbody>\r\n            </table>\r\n        </div>   \r\n        </Route>\r\n        <Route path={`/electionResults/electionDetails/:electionId`}>\r\n        <ElectionVoteDetails questionList={jsonData.questions}/>\r\n        </Route>\r\n        </Switch>\r\n    );\r\n}\r\nexport default withRouter(ElectionResults);","import './css/App.css';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\n\r\nimport { useState } from 'react';\r\n\r\nimport Header           from './components/Header'\r\nimport RegistrationForm from './components/RegistrationForm';\r\nimport LoginForm        from './components/LoginForm';\r\nimport AlertComponent   from './components/AlertMessage';  \r\nimport Home             from './screens/Home';  \r\nimport OrganizationList from './screens/OrganizationList';\r\nimport CreateOrganization from './screens/CreateOrganization';\r\nimport ElectionForm     from './screens/CreateElection';\r\nimport ElectionResults  from './screens/ElectionResults';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [errorMessage, updateErrorMessage] = useState(null);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header className=\"App-header\" onBackClick={() => { }} />\r\n\r\n        <div className=\"container d-flex align-items-center flex-column\">\r\n          <Switch>\r\n            <Route path=\"/\" exact={true}>\r\n              <LoginForm showError={updateErrorMessage} onClick={() => { }} />\r\n            </Route>\r\n            <Route path=\"/login\">\r\n              <LoginForm showError={updateErrorMessage} onClick={() => { }} />\r\n            </Route>\r\n            <Route path=\"/register\">\r\n              <RegistrationForm showError={updateErrorMessage}/>\r\n            </Route>\r\n\r\n\r\n            <Route path=\"/home\">\r\n              <Home/>\r\n            </Route>\r\n              <Route path=\"/createOrganization\">\r\n                <CreateOrganization showError={updateErrorMessage}/>\r\n              </Route>\r\n\r\n              <Route path=\"/orgList\">\r\n                <OrganizationList/>\r\n              </Route>\r\n\r\n              <Route path=\"/createElection\">\r\n                <ElectionForm/>\r\n              </Route>\r\n\r\n              <Route path=\"/electionResults\">\r\n                <ElectionResults/>\r\n              </Route>\r\n          </Switch>\r\n\r\n          <AlertComponent errorMessage={errorMessage} hideError={updateErrorMessage} />\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}