{"version":3,"sources":["images/logo_pollination.jpg","components/PollinationLogo.js","components/BackButton.js","images/back.png","components/Header.js","api_path.js","utils/customAxiosLib.js","components/RegistrationForm.js","utils/utils.js","components/LoginForm.js","components/AlertMessage.js","screens/Home.js","screens/CreateElection.js","screens/ElectionResults.js","screens/ElectionDetails.js","screens/OrganizationDetails.js","screens/OrganizationList.js","screens/CreateOrganization.js","App.js","reportWebVitals.js","index.js"],"names":["PollinationLogo","height","width","margin","className","style","src","logo","alt","BackButton","onClick","history","useHistory","goBack","withRouter","props","onBackClick","loggedInList","i","length","location","pathname","sessionStorage","removeItem","push","renderLogout","api_path","getAxiosInstance","jwt_token","getItem","axios","create","headers","getReq","apiEndpoint","a","get","response","console","log","postReq","jsonObj","post","deleteReq","delete","useForm","register","handleSubmit","errors","useState","registerError","setRegisterError","dob","firstName","lastName","email","password","state","setState","handleChange","e","target","id","value","prevState","redirectToHome","position","top","left","transform","minHeight","onSubmit","data","then","status","setItem","catch","error","htmlFor","type","name","placeholder","onChange","ref","required","aria-describedby","minLength","display","color","fontWeight","cursor","renderButton","btnName","loginError","setLoginError","resetForm","AlertComponent","modalDisplay","toggleDisplay","closeModal","hideError","useEffect","errorMessage","role","aria-label","aria-hidden","redirectToOrgList","TypeSelection_Enum","SINGLE_CHOICE","MULTI_SELECT","TRUE_FALSE","orgId","useParams","reset","watch","control","watchNumberOfQuestions","watchNumberOfFields","watchTypeOfQuestions","numberOfFields","tmp","Array","parseInt","keys","field_divs","document","getElementsByClassName","input_elements","getElementsByTagName","setFieldValuesBool","redirectToOrganizationDetails","json_obj","count","election_id","undefined","questions","map","q","ordered_choices","max_selection_count","min_selection_count","options","op","option_id","toISOString","slice","updateOptionsJSON","setTimeout","onReset","as","TextField","label","defaultValue","rules","FormControlLabel","inputRef","Checkbox","marginLeft","render","selected","timeInputLabel","dateFormat","showTimeSelect","min","questionNumbers","question","message","j","marginBottom","ElectionVoteDetails","electionResults","setElectionResults","election_info","index","rank","last","question_description","sort","b","result","option","option_description","Number","parseFloat","toPrecision","total_votes_for","question_id","renderTableData","electionList","redirectToElectionDetails","election","election_description","end_time","start_time","org_id","path","useRouteMatch","anonymous","ord_id","listState","elections","filter","public_results","exact","questionList","deleteError","setDeleteError","verified","electionInfo","setElectionInfo","renderElectionTableData","renderUserTableData","userList","user","first_name","last_name","privilege","inviteError","setInviteError","visibleInvitation","setInviVisi","userEmail","setUserEmail","userOrgId","setUserOrgId","setElectionList","user_org_id","uid","setUserList","setPrivilege","users","org","orgs","CreateElection","orgList","renderUserInfo","userInfo","setUserInfo","orgName","orgUser_org_id","orgVerifier_password","App","updateErrorMessage","showError","CreateOrganization","OrganizationList","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.82865098.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_pollination.8a160b60.jpg\";","import logo from '../images/logo_pollination.jpg';\r\nimport '../css/App.css'\r\n\r\nconst PollinationLogo = \r\n    ({height, width, margin}) => {\r\n        \r\n    return (\r\n        \r\n        <img className=\"App-logo\" style={{width: width, height:height, margin:margin}}               \r\n        src={logo} alt=\"logo\"/>\r\n    )\r\n}\r\n\r\nexport default PollinationLogo;\r\n","import BackPNG from '../images/back.png';\r\nimport '../css/App.css'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst BackButton = \r\n    ({height, width, margin, onClick}) => {\r\n\r\n    let history = useHistory();\r\n\r\n    return (\r\n        <img className=\"Back-button\" \r\n        style={{width: width, height:height, margin:margin}}               \r\n        src={BackPNG} alt=\"logo\" \r\n        onClick={() => {onClick(); history.goBack();}}/>\r\n    )\r\n}\r\n\r\nexport default BackButton;\r\n","export default \"data:image/png;base64,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\"","import '../css/App.css';\r\nimport PollinationLogo from './PollinationLogo';\r\nimport BackButton from './BackButton';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    function renderLogout() {\r\n        const loggedInList = ['/', '/login', '/register', '/electionResults'];\r\n\r\n        for (let i = 0; i < loggedInList.length; i++) {\r\n            if (loggedInList[i] === props.location.pathname) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        return(\r\n            <div className=\"\">\r\n                <button className=\"btn btn-danger\" onClick={() => handleLogout()}>Logout</button>\r\n            </div>\r\n        )\r\n    \r\n    }\r\n    function handleLogout() {\r\n        sessionStorage.removeItem(\"jwt\");\r\n        props.history.push('/login')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <header className={props.className?props.className:'App-header'}>\r\n                <BackButton onClick={props.onBackClick}/>\r\n                <PollinationLogo/>\r\n                {renderLogout()}\r\n            </header>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Header);","const api_path = 'https://pollination.live/api';\r\nexport default api_path;","import axios from \"axios\";\r\nimport api_path from \"../api_path\"\r\n\r\nconst logResponse = (response) => {\r\n    // console.log(\"Response Status:\" + response.status);\r\n    // console.log(\"Response headers:\");\r\n    // console.log(response.headers);\r\n    // console.log(\"Response data:\");\r\n    // console.log(response.data);\r\n}\r\n\r\nconst getAxiosInstance = () => {\r\n    let jwt_token = sessionStorage.getItem(\"jwt\");\r\n    let axiosInstance =  axios.create({\r\n        headers: {\r\n            \"Authorization\" : `Bearer ${jwt_token}`,\r\n        }\r\n    }); \r\n    return axiosInstance;\r\n}\r\n\r\nexport const getReq = async (apiEndpoint) => {\r\n  try {\r\n    const response = await getAxiosInstance().get(api_path + apiEndpoint);\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"getReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const postReq = async (apiEndpoint, jsonObj) => {\r\n  try {\r\n    const response = await getAxiosInstance().post(\r\n      api_path + apiEndpoint,\r\n      jsonObj\r\n    );\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"postReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n\r\nexport const deleteReq = async (apiEndpoint) => {\r\n  try {\r\n    const response = await getAxiosInstance().delete(api_path + apiEndpoint);\r\n    logResponse(response);\r\n    return response;\r\n  } catch (error) {\r\n    // Handle Error Here\r\n    console.log(\"postReq: \" + error);\r\n    return error;\r\n  }\r\n};\r\n\r\n","import {useState} from 'react';\r\nimport '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\n// import axios from 'axios';\r\nimport {postReq} from '../utils/customAxiosLib'\r\n\r\n// const axios = require('axios');\r\n\r\nconst RegistrationForm = (props) => {\r\n    const minPass = 8;\r\n\r\n    const { register, handleSubmit, errors } = useForm();\r\n    \r\n    const onSubmit = (data) => {\r\n\r\n        sessionStorage.removeItem(\"jwt\");\r\n\r\n        // console.log(\"Data being sent to server:\")\r\n        // console.log(\"'dob':'\" +data.dob+\"'\");\r\n        // console.log(\"'email':'\"+data.email+\"'\");\r\n        // console.log(\"'first_name':'\"+data.firstName+\"'\"); \r\n        // console.log(\"'last_name':'\"+data.lastName+\"'\");\r\n        // console.log(\"'password':'********'\")\r\n\r\n        postReq('/user', {\r\n            \"dob\":data.dob,\r\n            \"email\": data.email,\r\n            \"first_name\": data.firstName,\r\n            \"last_name\": data.lastName,\r\n            \"password\": data.password,\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                sessionStorage.setItem(\"jwt\", response.data.jwt_token);\r\n                redirectToHome();\r\n            } else {\r\n                setRegisterError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"registration failed: \");\r\n            console.log(error);\r\n            setRegisterError(true);\r\n        })\r\n    };\r\n\r\n    const [registerError , setRegisterError] = useState(false)\r\n\r\n    const [state , setState] = useState({\r\n        dob: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email : \"\",\r\n        password : \"\",\r\n        // confirmPassword: \"\",\r\n    })\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        props.history.push('/home');\r\n    }\r\n    const redirectToLogin = () => {\r\n        props.history.push('/login'); \r\n    }\r\n\r\n    const centerForm = {position:'absolute', top:'50%', left:'50%', transform: 'translate(-50%, -50%)', minHeight:'70vh' }\r\n    \r\n    return (\r\n        <div className=\"Auth-form\">\r\n            <div className=\"card col-12 col-lg-4 mt-2 hv-center\" style={centerForm}>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <h2>Register</h2>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"date\">Date of Birth</label>\r\n                        <input type=\"date\" \r\n                            className=\"form-control\" \r\n                            id=\"dob\" \r\n                            name=\"dob\" \r\n                            placeholder=\"Date of Birth\"\r\n                            value={state.dob}\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n                        <input type=\"text\" \r\n                            className=\"form-control\" \r\n                            id=\"fname\"\r\n                            name=\"firstName\" \r\n                            placeholder=\"First Name\"\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input type=\"text\" \r\n                            className=\"form-control\" \r\n                            id=\"lname\" \r\n                            name=\"lastName\" \r\n                            placeholder=\"Last Name\"\r\n                            onChange={handleChange}\r\n\r\n                            ref={register}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputEmail1\">Email Address</label>\r\n                        <input type=\"email\" \r\n                            className=\"form-control\" \r\n                            id=\"email\" \r\n                            name=\"email\" \r\n                            aria-describedby=\"emailHelp\" \r\n                            placeholder=\"Enter Email\"\r\n                            value={state.email}\r\n                            onChange={handleChange}\r\n                            ref={register({required: true})}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputPassword1\">Password</label>\r\n                        <input type=\"password\" \r\n                            className=\"form-control\" \r\n                            id=\"password\" \r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            ref={register({ required: true, minLength: minPass})}\r\n                            required\r\n                        />\r\n                        {errors.password && <p>This field is required. Min length: {minPass}</p>}\r\n                    </div>\r\n\r\n                    <p \r\n                        style={{\r\n                            display: `${registerError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Your email might have already been registered with us!</p>\r\n\r\n                    <input className=\"button\" type=\"submit\" value=\"Register\"/>\r\n\r\n                    <div className=\"mt-2\">\r\n                        <span>Already have an account? </span>\r\n                        <span style={{color: '#007bff', fontWeight: 'bold', cursor: 'pointer' }} \r\n                        onClick={() => {console.log('Going to login page'); redirectToLogin()}}>Login here</span> \r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(RegistrationForm);","const renderButton = (btnName, onClick) => {\r\n    return (\r\n        <>\r\n        <button \r\n            onClick={onClick}\r\n            name={btnName} \r\n            value={btnName} \r\n            type={`button`}\r\n        >{btnName}</button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport { renderButton }","import {postReq} from '../utils/customAxiosLib'\r\nimport {useState} from 'react';\r\nimport '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\nimport { renderButton } from '../utils/utils'\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const redirectToElectionResults = () => {\r\n        console.log(\"[ + ] Redirecting to electionResults\");\r\n        props.history.push(`/electionResults`);\r\n    }\r\n    sessionStorage.removeItem(\"jwt\");\r\n\r\n    const minPass = 8;\r\n    const { register, handleSubmit, errors } = useForm();\r\n    \r\n    const onSubmit = data => {\r\n        postReq('/user/login', {\r\n            \"email\": data.email,\r\n            \"password\": data.password,\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                sessionStorage.setItem(\"jwt\", response.data.jwt_token);\r\n                redirectToHome();\r\n            } else {\r\n                console.log(\"login failed! \" + response);\r\n                setLoginError(true);\r\n                resetForm();\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"login failed: \");\r\n            console.log(error);\r\n            setLoginError(true);\r\n            resetForm();\r\n        })\r\n    };\r\n\r\n    const [loginError , setLoginError] = useState(false)\r\n\r\n    const resetForm = () => {\r\n        setState({\r\n            email : \"\",\r\n            password : \"\",\r\n        });\r\n    }\r\n\r\n    const [state , setState] = useState({\r\n        email : \"\",\r\n        password : \"\",\r\n    })\r\n    const handleChange = (e) => {\r\n        const {id , value} = e.target   \r\n        setState(prevState => ({\r\n            ...prevState,\r\n            [id] : value\r\n        }))\r\n    }\r\n\r\n    const redirectToHome = () => {\r\n        props.history.push('/home');\r\n    }\r\n    const redirectToRegister = () => {\r\n        props.history.push('/register'); \r\n    }\r\n\r\n    const centerForm = {position:'absolute', top:'50%', left:'50%', transform: 'translate(-50%, -50%)', minHeight:'50vh' }\r\n    \r\n    return (\r\n        <div className=\"Auth-form\">\r\n            <div className=\"card col-12 col-lg-4 mt-2 hv-center\" style={centerForm}>\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <h2>Login</h2>\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputEmail1\">Email address</label>\r\n                        <input type=\"email\" \r\n                            className=\"form-control\" \r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            aria-describedby=\"emailHelp\" \r\n                            placeholder=\"Enter email\"\r\n                            value={state.email}\r\n                            onChange={handleChange}\r\n                            ref={register({required: true})}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"inputPassword1\">Password</label>\r\n                        <input type=\"password\" \r\n                            className=\"form-control\" \r\n                            id=\"password\" \r\n                            name=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={state.password}\r\n                            onChange={handleChange}\r\n                            ref={register({ required: true, minLength: minPass})}\r\n                        />\r\n                    </div>\r\n                    {state.password && state.password.length < minPass && <p>This field is required. Min length: {minPass}</p>}\r\n                    <p \r\n                        style={{\r\n                            display: `${loginError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Please check your credentials!</p>\r\n                    <input className=\"button\" type=\"submit\" value=\"Login\"/>\r\n\r\n                    <div className=\"mt-2\">\r\n                        <span>Don't have an account? </span>\r\n                        <span style={{color: '#007bff', fontWeight: 'bold', cursor: 'pointer' }} \r\n                        onClick={() => {console.log('Going to registration page');redirectToRegister();}}>Register here</span> \r\n                    </div>\r\n                    {renderButton(\"View Public Election Results\", () => {redirectToElectionResults()})}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(LoginForm);","import React, { useState, useEffect } from 'react';\r\n\r\nfunction AlertComponent(props) {\r\n    const [modalDisplay, toggleDisplay] = useState('none');\r\n    const openModal = () => {\r\n        toggleDisplay('block');     \r\n    }\r\n    const closeModal = () => {\r\n        toggleDisplay('none'); \r\n        props.hideError(null);\r\n    }\r\n    useEffect(() => {\r\n        if(props.errorMessage !== null) {\r\n            openModal()\r\n        } else {\r\n            closeModal()\r\n        }\r\n    });\r\n    \r\n    return(\r\n        <div \r\n            className={\"alert alert-danger alert-dismissable mt-4\"} \r\n            role=\"alert\" \r\n            id=\"alertPopUp\"\r\n            style={{ display: modalDisplay }}\r\n        >\r\n            <div className=\"d-flex alertMessage\">\r\n                <span>{props.errorMessage}</span>\r\n                <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={() => closeModal()}>\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n} \r\n\r\nexport default AlertComponent","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\n\r\n    // const handleSubmitClick = (e) => {\r\n    //     e.preventDefault();\r\n    //     props.onClick();\r\n    //     console.log(\"Sending Login Info to server\");=\r\n    //     redirectToHome();\r\n    // }\r\n\r\n\r\n    // const redirectToRegister = () => {\r\n    //     props.history.push('/register'); \r\n    // } \r\n\r\n\r\nfunction Home(props) {\r\n    const redirectToCreateOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\")\r\n        props.history.push('/createOrganization');\r\n    }\r\n    const redirectToOrgList = () => {\r\n        console.log(\"[ + ] Redirecting to organizations page.\")\r\n        props.history.push('/orgList');\r\n    }\r\n    const redirectToCreateElection = () => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push('/createElection');\r\n    }\r\n    // useEffect(() => {\r\n    //     axios.get(API_BASE_URL+'/user/me', { headers: { 'token': localStorage.getItem(ACCESS_TOKEN_NAME) }})\r\n    //     .then(function (response) {\r\n    //         if(response.status !== 200){\r\n    //           redirectToLogin()\r\n    //         }\r\n    //     })\r\n    //     .catch(function (error) {\r\n    //       redirectToLogin()\r\n    //     });\r\n    //   })\r\n    // function redirectToLogin() {\r\n    //     props.history.push('/login');\r\n    // }\r\n\r\n    redirectToOrgList();\r\n\r\n    return(\r\n        <div className=\"container d-flex align-items-center flex-column\">\r\n                    <Header className=\"App-header\" onBackClick={() => { }} />\r\n\r\n            <h4>Home page content</h4>\r\n            <br/>\r\n            <button name={\"Create Organization\"} type={`button`} onClick={() => {redirectToCreateOrg()}} >Create Organization</button>\r\n            <br/>\r\n            <button name={\"Organizations list\"} type={`button`} onClick={() => {redirectToOrgList()}} >Organizations list</button>\r\n            <br/>\r\n            <button name={\"Create Election\"} type={`button`} onClick={() => {redirectToCreateElection()}} >Create Election</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Home);","import React from \"react\";\r\nimport { postReq } from \"../utils/customAxiosLib\";\r\nimport \"../css/App.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { withRouter, useParams } from \"react-router-dom\";\r\nimport ReactDatePicker from \"react-datepicker\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst TypeSelection_Enum = {\r\n  SINGLE_CHOICE: \"Single Choice\",\r\n  MULTI_SELECT: \"Multiple selection\",\r\n  TRUE_FALSE: \"True or False\",\r\n};\r\n\r\nfunction ElectionForm(props) {\r\n  let { orgId } = useParams();\r\n\r\n  // functions to build form returned by useForm() hook\r\n  const { register, handleSubmit, reset, errors, watch, control } = useForm({});\r\n\r\n  // watch to enable re-render when question number is changed\r\n  const watchNumberOfQuestions = watch(\"numberOfQuestions\");\r\n\r\n  // watch to enable re-render when fields number is changed\r\n  const watchNumberOfFields = watch(\"numberOfFields\");\r\n\r\n  // watch to enable re-render of selections\r\n  const watchTypeOfQuestions = watch(\"typeOfQuestions\");\r\n\r\n  // return array of question indexes for rendering dynamic forms in the template\r\n  function questionNumbers() {\r\n    let tmp = 0;\r\n    if (watchNumberOfQuestions < 0) tmp = 0;\r\n    else tmp = watchNumberOfQuestions;\r\n    return [...Array(parseInt(tmp || 0)).keys()];\r\n  }\r\n\r\n  function numberOfFields() {\r\n    let tmp = 0;\r\n    if (watchNumberOfFields < 0) tmp = 0;\r\n    else tmp = watchNumberOfFields;\r\n\r\n    if (watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE) {\r\n      return [...Array(parseInt(tmp || 0)).keys()];\r\n    } else {\r\n      setFieldValuesBool();\r\n      return [...(Array(\"True\", \"False\") || 0).keys()];\r\n    }\r\n  }\r\n\r\n  function setFieldValuesBool() {\r\n    const field_divs = document.getElementsByClassName(\"field-value\");\r\n    for (let i = 0; i < field_divs.length; i++) {\r\n      const input_elements = field_divs[i].getElementsByTagName(\"input\");\r\n      i % 2 === 0 ? (input_elements[0].value = \"true\") : (input_elements[0].value = \"false\");\r\n    }\r\n  }\r\n\r\n  function updateOptionsJSON(json_obj) {\r\n    let count = 0;\r\n    json_obj.election_id = 0;\r\n    if (json_obj.questions !== undefined) {\r\n      json_obj.questions.map(q => {\r\n        q.election_id = 0;\r\n        q.ordered_choices = true;\r\n        q.max_selection_count = parseInt(json_obj[\"max_selection_count\"]) || 1;\r\n        q.min_selection_count = parseInt(json_obj[\"min_selection_count\"]) || 1;\r\n\r\n        q.options.map(op => {\r\n          op.option_id = count;\r\n          count += 1;\r\n        });\r\n      });\r\n    }\r\n    delete json_obj[\"numberOfQuestions\"];\r\n    delete json_obj[\"numberOfFields\"];\r\n    delete json_obj[\"typeOfQuestions\"];\r\n    delete json_obj[\"max_selection_count\"]\r\n    delete json_obj[\"min_selection_count\"]\r\n    json_obj[\"start_time\"] = json_obj[\"start_time\"].toISOString().slice(0, -5) + \"+00:00\";\r\n    json_obj[\"end_time\"]   = json_obj[\"end_time\"].toISOString().slice(0, -5) + \"+00:00\";\r\n    json_obj[\"org_id\"] = parseInt(orgId);\r\n    return json_obj;\r\n  }\r\n  function onSubmit(data) {\r\n    // display form data on success\r\n    data = updateOptionsJSON(data);\r\n    // console.log(JSON.stringify(data, null, 4));\r\n\r\n    postReq(\"/org/elections\", data)\r\n      .then(response => {\r\n        if (200 <= response.status && response.status < 300) {\r\n          console.log(\"Election created\");\r\n          setTimeout(() => {\r\n            redirectToOrganizationDetails();\r\n          }, 500);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(\"create election error\");\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  const redirectToOrganizationDetails = () => {\r\n    console.log(\"[ + ] Redirecting to view details of org: \" + orgId);\r\n    props.history.push(`/orgList/`);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} onReset={reset}>\r\n      <div className=\"card m-3\">\r\n        <h5 className=\"card-header\">\r\n          Create election for organisation ID: {orgId}\r\n        </h5>\r\n\r\n        <Controller\r\n          name=\"election_description\"\r\n          as={\r\n            <TextField\r\n              id=\"election_description\"\r\n              label=\"Event Description\"\r\n              required\r\n            />\r\n          }\r\n          control={control}\r\n          defaultValue=\"\"\r\n          rules={{\r\n            required: true,\r\n          }}\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Verification Required?\"\r\n          name=\"verified\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Results publicily available?\"\r\n          name=\"public_results\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n\r\n        <FormControlLabel\r\n          label=\"Anonymous election?\"\r\n          name=\"anonymous\"\r\n          inputRef={register}\r\n          control={\r\n            <Checkbox\r\n              style={{\r\n                color: \"#c5ae2d\",\r\n                marginLeft: \"1em\",\r\n              }}\r\n            />\r\n          }\r\n        />\r\n          <div className=\"card-body border-bottom\">\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>Start Date</label>\r\n                <Controller\r\n                  name={\"start_time\"}\r\n                  control={control}\r\n                  render={({ onChange, value }) => (\r\n                    <ReactDatePicker\r\n                      selected={value}\r\n                      onChange={onChange}\r\n                      timeInputLabel=\"Time:\"\r\n                      dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n                      showTimeSelect\r\n                      required\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>End Date</label>\r\n                <Controller\r\n                  name={\"end_time\"}\r\n                  control={control}\r\n                  render={({ onChange, value }) => (\r\n                    <ReactDatePicker\r\n                      selected={value}\r\n                      onChange={onChange}\r\n                      timeInputLabel=\"Time:\"\r\n                      dateFormat=\"MM/dd/yyyy h:mm aa\"\r\n                      showTimeSelect\r\n                      required\r\n                    />\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        <div className=\"card-body border-bottom\">\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group\">\r\n              <label>Number of Questions</label>\r\n              <input\r\n                defaultValue=\"1\"\r\n                name=\"numberOfQuestions\"\r\n                ref={register}\r\n                className={`form-control`}\r\n                required\r\n                type=\"number\"\r\n                min=\"0\"\r\n              ></input>\r\n\r\n              <label>Type of Questions</label>\r\n              <select\r\n                name=\"typeOfQuestions\"\r\n                ref={register}\r\n                className={`form-control`}\r\n                required\r\n              >\r\n                {[\r\n                  TypeSelection_Enum.SINGLE_CHOICE,\r\n                  TypeSelection_Enum.MULTI_SELECT,\r\n                  TypeSelection_Enum.TRUE_FALSE,\r\n                ].map(i => (\r\n                  <option key={i} value={i}>\r\n                    {i}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Number of Fields Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"numberOfFields\"\r\n                  defaultValue=\"3\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n              <div className=\"col\">\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Min Selection Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"min_selection_count\"\r\n                  defaultValue=\"1\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n              </div>\r\n              <div className=\"col\">\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <label>Max Selection Per Question</label>\r\n              )}\r\n              {watchTypeOfQuestions !== TypeSelection_Enum.TRUE_FALSE && (\r\n                <input\r\n                  name=\"max_selection_count\"\r\n                  defaultValue=\"1\"\r\n                  ref={register}\r\n                  className={`form-control`}\r\n                  required\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                ></input>\r\n              )}\r\n              </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        {questionNumbers().map(i => (\r\n          <div key={i} className=\"list-group list-group-flush\">\r\n            <div className=\"list-group-item\">\r\n              <h5 className=\"card-title\">Question {i + 1} </h5>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-6\">\r\n                  <label>Description</label>\r\n                  <input\r\n                    name={`questions[${i}].question_description`}\r\n                    ref={register}\r\n                    type=\"text\"\r\n                    className={`form-control`}\r\n                  />\r\n                  <div className=\"invalid-feedback\">\r\n                    {errors.questions?.[i]?.question?.message}\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-col col-6\">\r\n                  <label>Options:</label>\r\n                  {numberOfFields().map(j => (\r\n                    <div className=\"field-value\" style={{marginBottom:15}}>\r\n                      <input\r\n                        name={`questions[${i}].options[${j}].option_description`}\r\n                        ref={register}\r\n                        type=\"text\"\r\n                        className={`form-control`}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n\r\n        <div className=\"card-footer text-center border-top-0\">\r\n          <button type=\"submit\" className=\"btn btn-primary mr-1\">\r\n            Submit\r\n          </button>\r\n          <button className=\"btn btn-secondary mr-1\" type=\"reset\">\r\n            Reset\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default withRouter(ElectionForm);\r\n","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq } from '../utils/customAxiosLib'\r\nimport { useState, useEffect} from 'react';\r\n\r\nconst ElectionVoteDetails = props => {\r\n    const [electionResults, setElectionResults] = useState({\r\n        \"election_info\": {\r\n            \"anonymous\": true,\r\n            \"election_description\": \"test_elec\",\r\n            \"election_id\": 10,\r\n            \"end_time\": \"2024-01-23T04:56:07+00:00\",\r\n            \"org_id\": 10,\r\n            \"public_results\": true,\r\n            \"questions\": [\r\n                {\r\n                    \"election_id\": 10,\r\n                    \"max_selection_count\": 2,\r\n                    \"min_selection_count\": 2,\r\n                    \"options\": [\r\n                        {\r\n                            \"option_description\": \"\",\r\n                            \"option_id\": 20,\r\n                            \"result\": 0.0,\r\n                            \"total_votes_for\": 0\r\n                        }\r\n                    ],\r\n                    \"ordered_choices\": false,\r\n                    \"question_description\": \"No Results Yet, Stay Tuned.\",\r\n                    \"question_id\": 10\r\n                },\r\n\r\n            ],\r\n            \"start_time\": \"2000-01-23T04:56:07+00:00\",\r\n            \"verified\": true\r\n        },\r\n        \"org_info\": {\r\n            \"name\": \"yo sooonnn mollit\",\r\n            \"org_id\": 10\r\n        }\r\n    });\r\n    let { election_id } = useParams();\r\n    useEffect(() => {\r\n        getReq(`/org/elections/results?election_id=${election_id}`).then(response => {\r\n            if (response.status === 200) {\r\n                console.log(\"Got Election\");\r\n                setElectionResults(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Failed to get electionResults.\");\r\n            console.log(error);\r\n        });\r\n    }, [election_id]);\r\n\r\n    return electionResults.election_info.questions.map((question, index) => {\r\n        let rank = 0;\r\n        let last = -1;\r\n\r\n        return (\r\n            <div key={question.question_id}>\r\n                <h2>{question.question_description}</h2>\r\n                <table id=\"org\">\r\n                    <tbody>\r\n                    <tr>\r\n                        <th>Rank</th>\r\n                        <th>Option</th>\r\n                        <th>Result</th>\r\n                        <th>Number of Votes</th>\r\n                    </tr>\r\n                        {question.options.sort((a,b) => (a.result < b.result) ? 1 : -1).map((option, index) => {\r\n                            if (last !== option.result) rank++\r\n                            last = option.result;\r\n                            return (\r\n                            <tr key={option.option_id}>\r\n                                <td>{rank}</td>\r\n                                <td>{option.option_description}</td>\r\n                                <td>{Number.parseFloat(option.result).toPrecision(4)}%</td>\r\n                                <td>{option.total_votes_for}</td>\r\n                            </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    });\r\n}\r\n\r\nconst renderTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>ELECTION DESCRIPTION</th>\r\n            <th key={2}>START TIME</th>\r\n            <th key={3}>END TIME</th>\r\n            <th key={4}>ORG ID</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderTableData = (electionList, redirectToElectionDetails) => {\r\n    return electionList.map((election, index) => {\r\n        const {election_description, election_id, end_time,\r\n        start_time, org_id} = election;\r\n        return (\r\n        <tr \r\n        key={index}\r\n        onClick={() => {\r\n            redirectToElectionDetails(election_id, election_description)\r\n        }}\r\n        >\r\n            <td>{election_id}</td>\r\n            <td>{election_description}</td>\r\n            <td>{start_time}</td>\r\n            <td>{end_time}</td>\r\n            <td>{org_id}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst ElectionResults = (props) => {\r\n\r\n    let { path } = useRouteMatch();\r\n\r\n    const redirectToElectionDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/electionResults/electionDetails/${id}`);\r\n    }\r\n    const [listState, setState] = useState([{\r\n        anonymous : \"\",\r\n        election_description: \"\",\r\n        election_id: 0,\r\n        end_time: \"\",\r\n        start_time: \"\",\r\n        ord_id: 0\r\n    }]);\r\n    useEffect(() => {\r\n        getReq(\"/org/elections/public/get/list?page=1&elections_per_page=333\").then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                setState(response.data.elections.filter(election => election.public_results === true))\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }, []);\r\n    \r\n\r\n    return (\r\n        <Switch>\r\n        <Route exact path={path}>\r\n        <div>\r\n            <h2 className='title'>Public Elections List</h2>\r\n            <table id=\"org\">\r\n                <tbody>\r\n                    {renderTableHeader()}\r\n                    {renderTableData(listState, redirectToElectionDetails)}\r\n                </tbody>\r\n            </table>\r\n        </div>   \r\n        </Route>\r\n        <Route path={`/electionResults/electionDetails/:election_id`}>\r\n        <ElectionVoteDetails />\r\n        </Route>\r\n        </Switch>\r\n    );\r\n}\r\nexport default withRouter(ElectionResults);\r\nexport { ElectionVoteDetails }","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq, deleteReq } from '../utils/customAxiosLib'\r\nimport { useState, useEffect} from 'react';\r\nimport { renderButton } from \"../utils/utils\"\r\nimport { ElectionVoteDetails } from \"./ElectionResults\"\r\n\r\nconst renderQuestionTable = (questionList) => {\r\n    return questionList.map((question, index) => {\r\n        const {question_id, question_description, options} = question;\r\n        return (\r\n        <tr\r\n        key={index}\r\n        >\r\n            <td>{question_id}</td>\r\n            <td>{question_description}</td>\r\n            <td className=\"options\">{options.map((option, index) => {\r\n                const {option_description} = option;\r\n                return (\r\n                    <div>\r\n                        {index + 1} : {option_description}<br/>\r\n                    </div>\r\n                )\r\n            })}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst ElectionDetails = props => {\r\n    const redirectToElectionDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/electionResults/electionDetails/${id}`);\r\n    }\r\n    \r\n    let { election_id } = useParams();\r\n    let { path } = useRouteMatch();\r\n    console.log(\"Election ID: \" + election_id);\r\n\r\n    const [deleteError, setDeleteError] = useState(false);\r\n    const [electionInfo, setElectionInfo] = useState({\r\n        anonymous: false,\r\n        election_description: \"\",\r\n        election_id: 0,\r\n        end_time: \"\",\r\n        org_id: 0,\r\n        public_results: false,\r\n        questions: [],\r\n        start_time: \"\",\r\n        verified: false\r\n    });\r\n\r\n    useEffect(()=>{\r\n        getReq(`/org/elections?election_id=${election_id}`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/elections/list !!!\")\r\n                setElectionInfo(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/elections/list failed: \");\r\n            console.log(error);\r\n        });    \r\n    }, [election_id]);\r\n    return (\r\n    <Switch>\r\n        <Route exact path={path}>\r\n        <div>\r\n            <h2 className='title'>{electionInfo.election_description}</h2>\r\n            <table id=\"infoTable\">\r\n                <tbody>\r\n                    <tr>\r\n                        <td>election_description:</td>\r\n                        <td>{electionInfo.election_description}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Election Id:</td>\r\n                        <td>{electionInfo.election_id}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Start Time:</td>\r\n                        <td>{electionInfo.start_time}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>End Time:</td>\r\n                        <td>{electionInfo.end_time}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Org Id:</td>\r\n                        <td>{electionInfo.org_id}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Anonymous:</td>\r\n                        <td>{electionInfo.anonymous + \"\"}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Public Results:</td>\r\n                        <td>{electionInfo.public_results + \"\"}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>User needs to be verified:</td>\r\n                        <td>{electionInfo.verified + \"\"}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <table id=\"org\">\r\n            <tbody>\r\n                <th>Question Id</th>\r\n                <th>Description</th>\r\n                <th>Choices</th>\r\n                {renderQuestionTable(electionInfo.questions)}\r\n            </tbody>\r\n            </table>\r\n            <div>\r\n            {renderButton(\"View Election\", () => {redirectToElectionDetails(election_id, electionInfo.election_description)})}\r\n            </div>\r\n            <div>\r\n            <div style={{\r\n                    display: `${deleteError ? \"\" : \"none\"}`, \r\n                    color: \"red\",\r\n                }}>\r\n            <h5>You are not authorized to delete this election!</h5>\r\n            <br/>\r\n            </div>\r\n            {!deleteError ? renderButton(\"Delete Election\", () => (deleteReq(`/org/elections?election_id=${electionInfo.election_id}`).then((response) => {\r\n                if (200 <= response.status && response.status < 300) {\r\n                    console.log(`DELETED election ${electionInfo.election_id}`)\r\n                    setTimeout(() => {\r\n                        props.history.push(`/orgList`)\r\n                    }, 500)\r\n\r\n                } else {\r\n                    console.log(\"DELETE failed! \" + response);\r\n                    setDeleteError(true);\r\n                }\r\n            }))) : \"\" }\r\n            </div>\r\n        </div> \r\n        </Route>\r\n        <Route path={`/electionResults/electionDetails/:election_id`}>\r\n            <ElectionVoteDetails/>\r\n        </Route>     \r\n    </Switch>\r\n    );\r\n}\r\n\r\nexport default withRouter(ElectionDetails);","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch,\r\n    useParams\r\n} from \"react-router-dom\";\r\nimport { getReq, postReq } from '../utils/customAxiosLib'\r\nimport {useState, useEffect} from 'react';\r\nimport CreateElection from './CreateElection';\r\nimport ElectionDetails from './ElectionDetails';\r\nimport { useForm } from 'react-hook-form';\r\nimport { renderButton } from '../utils/utils';\r\n\r\nconst renderElectionTableData = (electionList, redirectToElectionDetails) => {\r\n    return electionList.map((election, index) => {\r\n        const {election_id, election_description, start_time, end_time} = election;\r\n        return (\r\n        <tr \r\n            key={index} \r\n            onClick={() => {\r\n                console.log(\"Viewing: \" + election_description);\r\n                redirectToElectionDetails(election_id);\r\n            }}\r\n        >\r\n            <td>{election_id}</td>\r\n            <td>{election_description}</td>\r\n            <td>{start_time}</td>\r\n            <td>{end_time}</td>\r\n        </tr>\r\n        );\r\n    });\r\n\r\n}\r\n\r\nconst renderElectionTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>DESCRIPTION</th>\r\n            <th key={2}>START</th>\r\n            <th key={3}>END</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderUserTableData = (userList) => {\r\n    return userList.map((user, index) => {\r\n        const {email, first_name, last_name, dob, privilege} = user;\r\n        return (\r\n        <tr \r\n            key={index} \r\n            onClick={() => {\r\n                console.log(\"Clicked on: \");\r\n                console.log(user);\r\n            }}\r\n        >\r\n            <td>{email}</td>\r\n            <td>{first_name + \" \" + last_name}</td>\r\n            <td>{dob}</td>\r\n            <td>{privilege === 4 ? \"Owner\" : privilege === 3 ? \"Admin\" : privilege === 2 ? \"Member\" : \"Invited\"}</td>\r\n        </tr>\r\n        );\r\n    });\r\n\r\n}\r\n\r\nconst renderUserTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>Email</th>\r\n            <th key={1}>Full Name</th>\r\n            <th key={2}>DOB</th>\r\n            <th key={3}>Privilege</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst OrganizationDetails = (props) => {\r\n\r\n    let { path } = useRouteMatch();\r\n    let { orgId } = useParams();\r\n    console.log(\"ORG ID: \" + orgId);\r\n\r\n    const redirectToCreateElection = (id) => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push(`/orgList/orgDetails/${id}/createElection/${id}`);\r\n    }\r\n\r\n    const redirectToElectionDetails = (election_id) => {\r\n        console.log(\"[ + ] Redirecting to create election page.\")\r\n        props.history.push(`/orgList/orgDetails/${orgId}/electionDetails/${election_id}`);\r\n    }\r\n\r\n    const [inviteError, setInviteError] = useState(false);\r\n    const [visibleInvitation, setInviVisi] = useState(false);\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userOrgId, setUserOrgId] = useState(\"\");\r\n    const [electionList , setElectionList] = useState([    \r\n        {\r\n            election_id: 1,\r\n            election_description: \"\",\r\n            start_time: \"\",\r\n            end_time: \"\"\r\n        },\r\n    ])\r\n    const [userList , setUserList] = useState([    \r\n        {\r\n            email: \"email@email.com\",\r\n            first_name: \"first\",\r\n            last_name: \"last\",\r\n            privilege: 1,\r\n            user_org_id: \"some id\",\r\n            dob: \"2021-01-01\",\r\n            uid: 0\r\n        },\r\n    ])\r\n    const [privilege, setPrivilege] = useState(0);\r\n\r\n    useEffect(()=>{\r\n        getReq(`/org/elections/list?org_id=${orgId}`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/elections/list !!!\")\r\n                setElectionList(response.data.elections);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/elections/list failed: \");\r\n            console.log(error);\r\n        });\r\n\r\n        getReq(`/org/users?org_id=${orgId}&min_privilege_level=0`)\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"GOT /org/users !!!\")\r\n                setUserList(response.data.users)\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/users failed: \");\r\n            console.log(error);\r\n        });\r\n\r\n        getReq('/org/list')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                for (let org in response.data.orgs) {\r\n                    if (parseInt(orgId) === response.data.orgs[org].org_id )\r\n                        setPrivilege(response.data.orgs[org].privilege);\r\n                }\r\n                console.log(\"Recv /org/list and set privilege !!!\")\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/list failed: \");\r\n            console.log(error);\r\n        });\r\n    }, [orgId]);\r\n\r\n\r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = (data) => {\r\n        postReq('/org/users/invite', {\r\n            \"invites\": [\r\n                {\r\n                    \"email\": data.userEmail,\r\n                    \"user_org_id\": data.userOrgId\r\n                }\r\n            ],\r\n            \"org_id\": parseInt(orgId)\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"[User list updated!!!]\");\r\n                setUserEmail(\"\")\r\n                setUserOrgId(\"\")\r\n                setInviVisi(!visibleInvitation);\r\n                setInviteError(false);\r\n            } else {\r\n                console.log(\"[User list NOT UPDATED!!!]\");\r\n                setInviteError(true);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"User list POST failed: \");\r\n            console.log(error);\r\n            setInviteError(true);\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n    <div>\r\n        <Switch>\r\n            <Route exact path={path}>\r\n                {/* <h1 id='title'>Organization Details</h1> */}\r\n                <h2 className='title'>Organization ID: {orgId}</h2>\r\n                <h4 className='title'>{privilege === 4 ? \"(You are the owner of this organisation)\" : privilege === 3 ? \"(You are an admin)\" : privilege === 2 ? \"(You are a member)\" : \"\"}</h4>\r\n                <h3 className='title'>Election List:</h3>\r\n                <table id='org'>\r\n                    <tbody>\r\n                        {renderElectionTableHeader()}\r\n                        {renderElectionTableData(electionList, redirectToElectionDetails)}\r\n                    </tbody>\r\n                </table>\r\n                \r\n                {renderButton(\"Create Election\", () => {redirectToCreateElection(orgId)})}\r\n                <br/>\r\n\r\n                { privilege > 2 ? <>\r\n                <h3 className='title'>User List:</h3>\r\n                <table id='userList'>\r\n                    <tbody>\r\n                        {renderUserTableHeader()}\r\n                        {renderUserTableData(userList)}\r\n                    </tbody>\r\n                </table>\r\n                <button \r\n                    onClick={()=>{setInviVisi(!visibleInvitation)}} \r\n                    style={{display: `${visibleInvitation ? \"none\" : \"\"}`}}\r\n                >Add User</button>\r\n                <form id=\"addUserForm\" onSubmit={handleSubmit(onSubmit)} style={{display: `${visibleInvitation ? \"\" : \"none\"}`}}>\r\n                    <h4 className='title'>Invite user to org:</h4>\r\n                    <div id=\"addUserInput\">\r\n                    <div className=\"form-group text-left\">\r\n                        <label>User Email:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userEmail}\r\n                            id=\"userEmail\"\r\n                            name=\"userEmail\"\r\n                            ref={register}\r\n                            placeholder=\"actualEmail@email.com\"\r\n                            onChange={e => setUserEmail(e.target.value)}\r\n                            className=\"form-control\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group text-left\">\r\n                        <label>User Org Id:</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userOrgId}\r\n                            id=\"userOrgId\"\r\n                            name=\"userOrgId\"\r\n                            ref={register}\r\n                            placeholder=\"anything\"\r\n                            onChange={e => setUserOrgId(e.target.value)}\r\n                            className=\"form-control\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    </div>\r\n                    <p \r\n                        style={{\r\n                            display: `${inviteError ? \"\" : \"none\"}`, \r\n                            color: \"red\",\r\n                        }}\r\n                    >There has been an error! Please check the email address!</p>\r\n                    <input className=\"button\" type=\"submit\" value=\"Invite\" />\r\n                </form> \r\n                </> : \"\"}\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId/createElection/:orgId`}>\r\n                <CreateElection />\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId/electionDetails/:election_id`}>\r\n                <ElectionDetails />\r\n            </Route>\r\n        </Switch>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(OrganizationDetails);","import '../css/App.css'\r\nimport { \r\n    withRouter, \r\n    Switch, \r\n    Route,\r\n    useRouteMatch\r\n} from \"react-router-dom\";\r\nimport { getReq } from '../utils/customAxiosLib'\r\nimport {useState, useEffect} from 'react';\r\nimport OrganizationDetails from './OrganizationDetails';\r\nimport { renderButton } from '../utils/utils'\r\n\r\n\r\nconst renderTableData = (orgList, redirectToOrganizationDetails) => {\r\n    return orgList.map((org, index) => {\r\n        const {org_id, name, user_org_id} = org;\r\n        return (\r\n        <tr \r\n        key={index}\r\n        onClick={() => {\r\n            redirectToOrganizationDetails(org_id, name);\r\n        }}\r\n        >\r\n            <td>{org_id}</td>\r\n            <td>{name}</td>\r\n            <td>{user_org_id}</td>\r\n        </tr>\r\n        );\r\n    });\r\n}\r\n\r\nconst renderTableHeader = () => {\r\n    return (\r\n        <tr>\r\n            <th key={0}>ID</th>\r\n            <th key={1}>NAME</th>\r\n            <th key={2}>USER ORG ID</th>\r\n        </tr>\r\n    );\r\n}\r\n\r\nconst renderUserInfo = (userInfo) => {\r\n    return (\r\n        <div>\r\n            <table id=\"infoTable\">\r\n                <tbody>\r\n                    <tr>                        \r\n                        <td>Email: {userInfo.email}</td>\r\n                        <td>D.O.B: {userInfo.dob}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Last Name: {userInfo.last_name}</td>\r\n                        <td>First Name: {userInfo.first_name}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst OrgList = (props) => {\r\n\r\n    const redirectToOrganizationDetails = (id, name) => {\r\n        console.log(\"[ + ] Redirecting to view details of \" + name);\r\n        props.history.push(`/orgList/orgDetails/${id}`);\r\n    }\r\n\r\n    const redirectToCreateOrg = () => {\r\n        console.log(\"[ + ] Redirecting to create org page.\");\r\n        props.history.push('/createOrganization');\r\n    }\r\n\r\n    let { path } = useRouteMatch();\r\n\r\n    const [listState , setState] = useState([    {\r\n            org_id: 0,\r\n            name: \"\",\r\n            user_org_id: \"\",\r\n        },\r\n    ])\r\n\r\n    const [userInfo, setUserInfo] = useState({\r\n        dob:'',\r\n        email:\"\",\r\n        first_name:\"\",\r\n        last_name:\"\"\r\n    });\r\n\r\n    useEffect(()=>{\r\n        getReq('/user')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"Recv /user !!!\")\r\n                setUserInfo(response.data);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        });\r\n        getReq('/org/list')\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"Recv /org/list !!!\")\r\n                setState(response.data.orgs);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Get /org/list failed: \");\r\n            console.log(error);\r\n        });\r\n    }, []);\r\n\r\n\r\n    return (\r\n    <div>\r\n        <Switch>\r\n            <Route exact path={path}>\r\n            <h2 className='title'>User's information</h2>\r\n            {renderUserInfo(userInfo)}\r\n            <h2 className='title'>Organization List</h2>\r\n                <table id='org'>\r\n                    <tbody>\r\n                        {renderTableHeader()}\r\n                        {renderTableData(listState, redirectToOrganizationDetails)}\r\n                    </tbody>\r\n                </table>\r\n                {renderButton(\"Create Organization\", () => {redirectToCreateOrg()})}\r\n            </Route>\r\n            <Route path={`/orgList/orgDetails/:orgId`}>\r\n                <OrganizationDetails />\r\n            </Route>\r\n        </Switch>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default withRouter(OrgList);","import '../css/App.css'\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\nimport { postReq } from '../utils/customAxiosLib';\r\n\r\nconst CreateOrganizationForm = (props) => {\r\n\r\n    const { register, handleSubmit } = useForm();\r\n\r\n    const redirectToOrgList = () => {\r\n        console.log(\"[ + ] Redirecting to organizations page.\")\r\n        props.history.push('/orgList');\r\n    }\r\n\r\n    const onSubmit = data => {\r\n\r\n        postReq('/org', {\r\n            \"name\": data.orgName,\r\n            \"user_org_id\": data.orgUser_org_id,\r\n            \"verifier_password\": data.orgVerifier_password,\r\n\r\n        })\r\n        .then(response => {\r\n            if (200 <= response.status && response.status < 300) {\r\n                console.log(\"[ORG created!!!]\");\r\n                redirectToOrgList();\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Create org failed: \");\r\n            console.log(error);\r\n        })\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"col-12 CreateOrg-form\">\r\n            <div className={`card col-12 col-lg-12 mt-2 hv-center`} >\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                    <h2>Create Organization</h2>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgName\">Name</label>\r\n                        <input type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"orgName\"\r\n                            name=\"orgName\"\r\n                            ref={register}\r\n                            placeholder=\"Org Name\"\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgUser_org_id\">User Organization ID</label>\r\n                        <input type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"orgUser_org_id\"\r\n                            name=\"orgUser_org_id\"\r\n                            placeholder=\"User Organization ID\"\r\n                            ref={register}\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group text-left\">\r\n                        <label htmlFor=\"orgVerifier_password\">ID Verifier Password</label>\r\n                        <input type=\"password\"\r\n                            className=\"form-control\"\r\n                            id=\"orgVerifier_password\"\r\n                            name=\"orgVerifier_password\"\r\n                            placeholder=\"Password\"\r\n                            ref={register}\r\n                            required=\"required\"\r\n                        />\r\n                    </div>\r\n\r\n                    <input className=\"button\" type=\"submit\" value=\"Create\" />\r\n                    <br />\r\n                    <br />\r\n                    {/* <input type=\"submit\" value=\"Cancel\" /> */}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CreateOrganizationForm);","import './css/App.css';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from \"react-router-dom\";\r\n\r\nimport { useState } from 'react';\r\n\r\nimport Header           from './components/Header'\r\nimport RegistrationForm from './components/RegistrationForm';\r\nimport LoginForm        from './components/LoginForm';\r\nimport AlertComponent   from './components/AlertMessage';  \r\nimport Home             from './screens/Home';  \r\nimport OrganizationList from './screens/OrganizationList';\r\nimport CreateOrganization from './screens/CreateOrganization';\r\nimport ElectionForm     from './screens/CreateElection';\r\nimport ElectionResults  from './screens/ElectionResults';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [errorMessage, updateErrorMessage] = useState(null);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Header className=\"App-header\" onBackClick={() => { }} />\r\n\r\n        <div className=\"container d-flex align-items-center flex-column\">\r\n          <Switch>\r\n            <Route path=\"/\" exact={true}>\r\n              <LoginForm showError={updateErrorMessage} onClick={() => { }} />\r\n            </Route>\r\n            <Route path=\"/login\">\r\n              <LoginForm showError={updateErrorMessage} onClick={() => { }} />\r\n            </Route>\r\n            <Route path=\"/register\">\r\n              <RegistrationForm showError={updateErrorMessage}/>\r\n            </Route>\r\n\r\n\r\n            <Route path=\"/home\">\r\n              <Home/>\r\n            </Route>\r\n              <Route path=\"/createOrganization\">\r\n                <CreateOrganization showError={updateErrorMessage}/>\r\n              </Route>\r\n\r\n              <Route path=\"/orgList\">\r\n                <OrganizationList/>\r\n              </Route>\r\n\r\n              <Route path=\"/createElection\">\r\n                <ElectionForm/>\r\n              </Route>\r\n\r\n              <Route path=\"/electionResults\">\r\n                <ElectionResults/>\r\n              </Route>\r\n          </Switch>\r\n\r\n          <AlertComponent errorMessage={errorMessage} hideError={updateErrorMessage} />\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}